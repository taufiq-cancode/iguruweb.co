var Vp=Object.defineProperty;var jp=(B,q,J)=>q in B?Vp(B,q,{enumerable:!0,configurable:!0,writable:!0,value:J}):B[q]=J;var X=(B,q,J)=>(jp(B,typeof q!="symbol"?q+"":q,J),J),Aa=(B,q,J)=>{if(!q.has(B))throw TypeError("Cannot "+J)};var Gn=(B,q,J)=>(Aa(B,q,"read from private field"),J?J.call(B):q.get(B)),xt=(B,q,J)=>{if(q.has(B))throw TypeError("Cannot add the same private member more than once");q instanceof WeakSet?q.add(B):q.set(B,J)},Ct=(B,q,J,Te)=>(Aa(B,q,"write to private field"),Te?Te.call(B,J):q.set(B,J),J);(function(B,q){typeof exports=="object"&&typeof module<"u"?q(exports):typeof define=="function"&&define.amd?define(["exports"],q):(B=typeof globalThis<"u"?globalThis:B||self,q(B.Kalamba={}))})(this,function(B){var Pe,At,$n,Oe;"use strict";class q{constructor(){X(this,"config");this.config={api:{brand:"",cashierUrl:void 0,coinValueInCents:1,country:"",currency:"",game:"",gameHistoryUrl:"",homeUrl:void 0,integration:"",jurisdiction:"",playMode:"FUN",user:""},ui:{autoplay:{enabled:!1,rounds:{enabled:!1,showNoLimit:!1,showCustomLimit:!1,options:[]},lossLimit:{enabled:!1,showNoLimit:!1,showCustomLimit:!1,options:[]},winLimit:{enabled:!1,showNoLimit:!1,showCustomLimit:!1,options:[]},simple:!1,stopOnFeature:!1},cashier:{enabled:!1,balanceThreshold:[0]},feature:{allowTelemetry:!1,allowFullscreen:!1,allowQuickStop:!1,showCashier:!1,showClock:!1,showCloseGame:!1,showCurrency:!0,showFastPlay:!1,showFeatureBuy:!1,showFeatureIntro:!1,showFeatureOutro:!1,showFunModeBanner:!1,showHistory:!1,showLowWinCelebration:!1,showMaximumWin:!1,showNetPosition:!1,showPaylineLines:!1,showPaytable:!1,showRoundId:!1,showRtp:!1,showRules:!1,showSessionDuration:!1,showUi:!0},language:"en",maximumBet:void 0,minimumSpinDuration:0,realityCheck:{sessionDurationPeriodFormat:"minutes",showCloseGame:!1,showHistory:!1,showNetPosition:!1,showSessionDuration:!1,showSumBets:!1,showSumWins:!1},skipInsufficientFundsCheck:!1,skipSplash:!1}}}}var J=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Te={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(m,f){(function(){var s,d="4.17.19",E=200,C="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",S="Expected a function",G="__lodash_hash_undefined__",V=500,D="__lodash_placeholder__",Z=1,It=2,ae=4,Ln=1,Fe=2,sn=1,Hn=2,nt=4,mn=8,Ue=16,qn=32,Be=64,Xn=128,et=256,Sr=512,to=30,ro="...",io=800,so=16,Qi=1,uo=2,ao=3,me=1/0,oe=9007199254740991,oo=17976931348623157e292,Tt=0/0,zn=4294967295,fo=zn-1,lo=zn>>>1,co=[["ary",Xn],["bind",sn],["bindKey",Hn],["curry",mn],["curryRight",Ue],["flip",Sr],["partial",qn],["partialRight",Be],["rearg",et]],ke="[object Arguments]",Rt="[object Array]",ho="[object AsyncFunction]",tt="[object Boolean]",rt="[object Date]",go="[object DOMException]",Mt="[object Error]",Pt="[object Function]",Xi="[object GeneratorFunction]",Un="[object Map]",it="[object Number]",po="[object Null]",Jn="[object Object]",Ji="[object Promise]",_o="[object Proxy]",st="[object RegExp]",Bn="[object Set]",ut="[object String]",Ot="[object Symbol]",wo="[object Undefined]",at="[object WeakMap]",vo="[object WeakSet]",ot="[object ArrayBuffer]",De="[object DataView]",xr="[object Float32Array]",Cr="[object Float64Array]",Lr="[object Int8Array]",Ar="[object Int16Array]",Ir="[object Int32Array]",Tr="[object Uint8Array]",Rr="[object Uint8ClampedArray]",Mr="[object Uint16Array]",Pr="[object Uint32Array]",mo=/\b__p \+= '';/g,yo=/\b(__p \+=) '' \+/g,Eo=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Vi=/&(?:amp|lt|gt|quot|#39);/g,ji=/[&<>"']/g,bo=RegExp(Vi.source),So=RegExp(ji.source),xo=/<%-([\s\S]+?)%>/g,Co=/<%([\s\S]+?)%>/g,ns=/<%=([\s\S]+?)%>/g,Lo=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ao=/^\w*$/,Io=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Or=/[\\^$.*+?()[\]{}|]/g,To=RegExp(Or.source),es=/^\s+|\s+$/g,ts=/^\s+/,Ro=/\s+$/,Mo=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Po=/\{\n\/\* \[wrapped with (.+)\] \*/,Oo=/,? & /,Fo=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Uo=/\\(\\)?/g,Bo=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,rs=/\w*$/,ko=/^[-+]0x[0-9a-f]+$/i,Do=/^0b[01]+$/i,Wo=/^\[object .+?Constructor\]$/,No=/^0o[0-7]+$/i,Go=/^(?:0|[1-9]\d*)$/,$o=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ft=/($^)/,Ho=/['\n\r\u2028\u2029\\]/g,Ut="\\ud800-\\udfff",qo="\\u0300-\\u036f",zo="\\ufe20-\\ufe2f",Ko="\\u20d0-\\u20ff",is=qo+zo+Ko,ss="\\u2700-\\u27bf",us="a-z\\xdf-\\xf6\\xf8-\\xff",Yo="\\xac\\xb1\\xd7\\xf7",Zo="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Qo="\\u2000-\\u206f",Xo=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",as="A-Z\\xc0-\\xd6\\xd8-\\xde",os="\\ufe0e\\ufe0f",fs=Yo+Zo+Qo+Xo,Fr="['\u2019]",Jo="["+Ut+"]",ls="["+fs+"]",Bt="["+is+"]",cs="\\d+",Vo="["+ss+"]",hs="["+us+"]",gs="[^"+Ut+fs+cs+ss+us+as+"]",Ur="\\ud83c[\\udffb-\\udfff]",jo="(?:"+Bt+"|"+Ur+")",ds="[^"+Ut+"]",Br="(?:\\ud83c[\\udde6-\\uddff]){2}",kr="[\\ud800-\\udbff][\\udc00-\\udfff]",We="["+as+"]",ps="\\u200d",_s="(?:"+hs+"|"+gs+")",nf="(?:"+We+"|"+gs+")",ws="(?:"+Fr+"(?:d|ll|m|re|s|t|ve))?",vs="(?:"+Fr+"(?:D|LL|M|RE|S|T|VE))?",ms=jo+"?",ys="["+os+"]?",ef="(?:"+ps+"(?:"+[ds,Br,kr].join("|")+")"+ys+ms+")*",tf="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",rf="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Es=ys+ms+ef,sf="(?:"+[Vo,Br,kr].join("|")+")"+Es,uf="(?:"+[ds+Bt+"?",Bt,Br,kr,Jo].join("|")+")",af=RegExp(Fr,"g"),of=RegExp(Bt,"g"),Dr=RegExp(Ur+"(?="+Ur+")|"+uf+Es,"g"),ff=RegExp([We+"?"+hs+"+"+ws+"(?="+[ls,We,"$"].join("|")+")",nf+"+"+vs+"(?="+[ls,We+_s,"$"].join("|")+")",We+"?"+_s+"+"+ws,We+"+"+vs,rf,tf,cs,sf].join("|"),"g"),lf=RegExp("["+ps+Ut+is+os+"]"),cf=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,hf=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],gf=-1,K={};K[xr]=K[Cr]=K[Lr]=K[Ar]=K[Ir]=K[Tr]=K[Rr]=K[Mr]=K[Pr]=!0,K[ke]=K[Rt]=K[ot]=K[tt]=K[De]=K[rt]=K[Mt]=K[Pt]=K[Un]=K[it]=K[Jn]=K[st]=K[Bn]=K[ut]=K[at]=!1;var z={};z[ke]=z[Rt]=z[ot]=z[De]=z[tt]=z[rt]=z[xr]=z[Cr]=z[Lr]=z[Ar]=z[Ir]=z[Un]=z[it]=z[Jn]=z[st]=z[Bn]=z[ut]=z[Ot]=z[Tr]=z[Rr]=z[Mr]=z[Pr]=!0,z[Mt]=z[Pt]=z[at]=!1;var df={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},pf={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},_f={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},wf={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},vf=parseFloat,mf=parseInt,bs=typeof J=="object"&&J&&J.Object===Object&&J,yf=typeof self=="object"&&self&&self.Object===Object&&self,an=bs||yf||Function("return this")(),Wr=f&&!f.nodeType&&f,ye=Wr&&!0&&m&&!m.nodeType&&m,Ss=ye&&ye.exports===Wr,Nr=Ss&&bs.process,An=function(){try{var h=ye&&ye.require&&ye.require("util").types;return h||Nr&&Nr.binding&&Nr.binding("util")}catch{}}(),xs=An&&An.isArrayBuffer,Cs=An&&An.isDate,Ls=An&&An.isMap,As=An&&An.isRegExp,Is=An&&An.isSet,Ts=An&&An.isTypedArray;function yn(h,p,g){switch(g.length){case 0:return h.call(p);case 1:return h.call(p,g[0]);case 2:return h.call(p,g[0],g[1]);case 3:return h.call(p,g[0],g[1],g[2])}return h.apply(p,g)}function Ef(h,p,g,b){for(var T=-1,W=h==null?0:h.length;++T<W;){var tn=h[T];p(b,tn,g(tn),h)}return b}function In(h,p){for(var g=-1,b=h==null?0:h.length;++g<b&&p(h[g],g,h)!==!1;);return h}function bf(h,p){for(var g=h==null?0:h.length;g--&&p(h[g],g,h)!==!1;);return h}function Rs(h,p){for(var g=-1,b=h==null?0:h.length;++g<b;)if(!p(h[g],g,h))return!1;return!0}function fe(h,p){for(var g=-1,b=h==null?0:h.length,T=0,W=[];++g<b;){var tn=h[g];p(tn,g,h)&&(W[T++]=tn)}return W}function kt(h,p){var g=h==null?0:h.length;return!!g&&Ne(h,p,0)>-1}function Gr(h,p,g){for(var b=-1,T=h==null?0:h.length;++b<T;)if(g(p,h[b]))return!0;return!1}function Y(h,p){for(var g=-1,b=h==null?0:h.length,T=Array(b);++g<b;)T[g]=p(h[g],g,h);return T}function le(h,p){for(var g=-1,b=p.length,T=h.length;++g<b;)h[T+g]=p[g];return h}function $r(h,p,g,b){var T=-1,W=h==null?0:h.length;for(b&&W&&(g=h[++T]);++T<W;)g=p(g,h[T],T,h);return g}function Sf(h,p,g,b){var T=h==null?0:h.length;for(b&&T&&(g=h[--T]);T--;)g=p(g,h[T],T,h);return g}function Hr(h,p){for(var g=-1,b=h==null?0:h.length;++g<b;)if(p(h[g],g,h))return!0;return!1}var xf=qr("length");function Cf(h){return h.split("")}function Lf(h){return h.match(Fo)||[]}function Ms(h,p,g){var b;return g(h,function(T,W,tn){if(p(T,W,tn))return b=W,!1}),b}function Dt(h,p,g,b){for(var T=h.length,W=g+(b?1:-1);b?W--:++W<T;)if(p(h[W],W,h))return W;return-1}function Ne(h,p,g){return p===p?Df(h,p,g):Dt(h,Ps,g)}function Af(h,p,g,b){for(var T=g-1,W=h.length;++T<W;)if(b(h[T],p))return T;return-1}function Ps(h){return h!==h}function Os(h,p){var g=h==null?0:h.length;return g?Kr(h,p)/g:Tt}function qr(h){return function(p){return p==null?s:p[h]}}function zr(h){return function(p){return h==null?s:h[p]}}function Fs(h,p,g,b,T){return T(h,function(W,tn,H){g=b?(b=!1,W):p(g,W,tn,H)}),g}function If(h,p){var g=h.length;for(h.sort(p);g--;)h[g]=h[g].value;return h}function Kr(h,p){for(var g,b=-1,T=h.length;++b<T;){var W=p(h[b]);W!==s&&(g=g===s?W:g+W)}return g}function Yr(h,p){for(var g=-1,b=Array(h);++g<h;)b[g]=p(g);return b}function Tf(h,p){return Y(p,function(g){return[g,h[g]]})}function En(h){return function(p){return h(p)}}function Zr(h,p){return Y(p,function(g){return h[g]})}function ft(h,p){return h.has(p)}function Us(h,p){for(var g=-1,b=h.length;++g<b&&Ne(p,h[g],0)>-1;);return g}function Bs(h,p){for(var g=h.length;g--&&Ne(p,h[g],0)>-1;);return g}function Rf(h,p){for(var g=h.length,b=0;g--;)h[g]===p&&++b;return b}var Mf=zr(df),Pf=zr(pf);function Of(h){return"\\"+wf[h]}function Ff(h,p){return h==null?s:h[p]}function Ge(h){return lf.test(h)}function Uf(h){return cf.test(h)}function Bf(h){for(var p,g=[];!(p=h.next()).done;)g.push(p.value);return g}function Qr(h){var p=-1,g=Array(h.size);return h.forEach(function(b,T){g[++p]=[T,b]}),g}function ks(h,p){return function(g){return h(p(g))}}function ce(h,p){for(var g=-1,b=h.length,T=0,W=[];++g<b;){var tn=h[g];(tn===p||tn===D)&&(h[g]=D,W[T++]=g)}return W}function Wt(h){var p=-1,g=Array(h.size);return h.forEach(function(b){g[++p]=b}),g}function kf(h){var p=-1,g=Array(h.size);return h.forEach(function(b){g[++p]=[b,b]}),g}function Df(h,p,g){for(var b=g-1,T=h.length;++b<T;)if(h[b]===p)return b;return-1}function Wf(h,p,g){for(var b=g+1;b--;)if(h[b]===p)return b;return b}function $e(h){return Ge(h)?Gf(h):xf(h)}function kn(h){return Ge(h)?$f(h):Cf(h)}var Nf=zr(_f);function Gf(h){for(var p=Dr.lastIndex=0;Dr.test(h);)++p;return p}function $f(h){return h.match(Dr)||[]}function Hf(h){return h.match(ff)||[]}var qf=function h(p){p=p==null?an:He.defaults(an.Object(),p,He.pick(an,hf));var g=p.Array,b=p.Date,T=p.Error,W=p.Function,tn=p.Math,H=p.Object,Xr=p.RegExp,zf=p.String,Tn=p.TypeError,Nt=g.prototype,Kf=W.prototype,qe=H.prototype,Gt=p["__core-js_shared__"],$t=Kf.toString,$=qe.hasOwnProperty,Yf=0,Ds=function(){var n=/[^.]+$/.exec(Gt&&Gt.keys&&Gt.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}(),Ht=qe.toString,Zf=$t.call(H),Qf=an._,Xf=Xr("^"+$t.call($).replace(Or,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),qt=Ss?p.Buffer:s,he=p.Symbol,zt=p.Uint8Array,Ws=qt?qt.allocUnsafe:s,Kt=ks(H.getPrototypeOf,H),Ns=H.create,Gs=qe.propertyIsEnumerable,Yt=Nt.splice,$s=he?he.isConcatSpreadable:s,lt=he?he.iterator:s,Ee=he?he.toStringTag:s,Zt=function(){try{var n=Le(H,"defineProperty");return n({},"",{}),n}catch{}}(),Jf=p.clearTimeout!==an.clearTimeout&&p.clearTimeout,Vf=b&&b.now!==an.Date.now&&b.now,jf=p.setTimeout!==an.setTimeout&&p.setTimeout,Qt=tn.ceil,Xt=tn.floor,Jr=H.getOwnPropertySymbols,nl=qt?qt.isBuffer:s,Hs=p.isFinite,el=Nt.join,tl=ks(H.keys,H),rn=tn.max,ln=tn.min,rl=b.now,il=p.parseInt,qs=tn.random,sl=Nt.reverse,Vr=Le(p,"DataView"),ct=Le(p,"Map"),jr=Le(p,"Promise"),ze=Le(p,"Set"),ht=Le(p,"WeakMap"),gt=Le(H,"create"),Jt=ht&&new ht,Ke={},ul=Ae(Vr),al=Ae(ct),ol=Ae(jr),fl=Ae(ze),ll=Ae(ht),Vt=he?he.prototype:s,dt=Vt?Vt.valueOf:s,zs=Vt?Vt.toString:s;function u(n){if(j(n)&&!R(n)&&!(n instanceof U)){if(n instanceof Rn)return n;if($.call(n,"__wrapped__"))return Ku(n)}return new Rn(n)}var Ye=function(){function n(){}return function(e){if(!Q(e))return{};if(Ns)return Ns(e);n.prototype=e;var t=new n;return n.prototype=s,t}}();function jt(){}function Rn(n,e){this.__wrapped__=n,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=s}u.templateSettings={escape:xo,evaluate:Co,interpolate:ns,variable:"",imports:{_:u}},u.prototype=jt.prototype,u.prototype.constructor=u,Rn.prototype=Ye(jt.prototype),Rn.prototype.constructor=Rn;function U(n){this.__wrapped__=n,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=zn,this.__views__=[]}function cl(){var n=new U(this.__wrapped__);return n.__actions__=pn(this.__actions__),n.__dir__=this.__dir__,n.__filtered__=this.__filtered__,n.__iteratees__=pn(this.__iteratees__),n.__takeCount__=this.__takeCount__,n.__views__=pn(this.__views__),n}function hl(){if(this.__filtered__){var n=new U(this);n.__dir__=-1,n.__filtered__=!0}else n=this.clone(),n.__dir__*=-1;return n}function gl(){var n=this.__wrapped__.value(),e=this.__dir__,t=R(n),r=e<0,i=t?n.length:0,a=Cc(0,i,this.__views__),o=a.start,l=a.end,c=l-o,_=r?l:o-1,w=this.__iteratees__,v=w.length,y=0,x=ln(c,this.__takeCount__);if(!t||!r&&i==c&&x==c)return pu(n,this.__actions__);var I=[];n:for(;c--&&y<x;){_+=e;for(var P=-1,A=n[_];++P<v;){var F=w[P],k=F.iteratee,xn=F.type,dn=k(A);if(xn==uo)A=dn;else if(!dn){if(xn==Qi)continue n;break n}}I[y++]=A}return I}U.prototype=Ye(jt.prototype),U.prototype.constructor=U;function be(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}function dl(){this.__data__=gt?gt(null):{},this.size=0}function pl(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}function _l(n){var e=this.__data__;if(gt){var t=e[n];return t===G?s:t}return $.call(e,n)?e[n]:s}function wl(n){var e=this.__data__;return gt?e[n]!==s:$.call(e,n)}function vl(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=gt&&e===s?G:e,this}be.prototype.clear=dl,be.prototype.delete=pl,be.prototype.get=_l,be.prototype.has=wl,be.prototype.set=vl;function Vn(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}function ml(){this.__data__=[],this.size=0}function yl(n){var e=this.__data__,t=nr(e,n);if(t<0)return!1;var r=e.length-1;return t==r?e.pop():Yt.call(e,t,1),--this.size,!0}function El(n){var e=this.__data__,t=nr(e,n);return t<0?s:e[t][1]}function bl(n){return nr(this.__data__,n)>-1}function Sl(n,e){var t=this.__data__,r=nr(t,n);return r<0?(++this.size,t.push([n,e])):t[r][1]=e,this}Vn.prototype.clear=ml,Vn.prototype.delete=yl,Vn.prototype.get=El,Vn.prototype.has=bl,Vn.prototype.set=Sl;function jn(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}function xl(){this.size=0,this.__data__={hash:new be,map:new(ct||Vn),string:new be}}function Cl(n){var e=hr(this,n).delete(n);return this.size-=e?1:0,e}function Ll(n){return hr(this,n).get(n)}function Al(n){return hr(this,n).has(n)}function Il(n,e){var t=hr(this,n),r=t.size;return t.set(n,e),this.size+=t.size==r?0:1,this}jn.prototype.clear=xl,jn.prototype.delete=Cl,jn.prototype.get=Ll,jn.prototype.has=Al,jn.prototype.set=Il;function Se(n){var e=-1,t=n==null?0:n.length;for(this.__data__=new jn;++e<t;)this.add(n[e])}function Tl(n){return this.__data__.set(n,G),this}function Rl(n){return this.__data__.has(n)}Se.prototype.add=Se.prototype.push=Tl,Se.prototype.has=Rl;function Dn(n){var e=this.__data__=new Vn(n);this.size=e.size}function Ml(){this.__data__=new Vn,this.size=0}function Pl(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}function Ol(n){return this.__data__.get(n)}function Fl(n){return this.__data__.has(n)}function Ul(n,e){var t=this.__data__;if(t instanceof Vn){var r=t.__data__;if(!ct||r.length<E-1)return r.push([n,e]),this.size=++t.size,this;t=this.__data__=new jn(r)}return t.set(n,e),this.size=t.size,this}Dn.prototype.clear=Ml,Dn.prototype.delete=Pl,Dn.prototype.get=Ol,Dn.prototype.has=Fl,Dn.prototype.set=Ul;function Ks(n,e){var t=R(n),r=!t&&Ie(n),i=!t&&!r&&we(n),a=!t&&!r&&!i&&Je(n),o=t||r||i||a,l=o?Yr(n.length,zf):[],c=l.length;for(var _ in n)(e||$.call(n,_))&&!(o&&(_=="length"||i&&(_=="offset"||_=="parent")||a&&(_=="buffer"||_=="byteLength"||_=="byteOffset")||re(_,c)))&&l.push(_);return l}function Ys(n){var e=n.length;return e?n[li(0,e-1)]:s}function Bl(n,e){return gr(pn(n),xe(e,0,n.length))}function kl(n){return gr(pn(n))}function ni(n,e,t){(t!==s&&!Wn(n[e],t)||t===s&&!(e in n))&&ne(n,e,t)}function pt(n,e,t){var r=n[e];(!($.call(n,e)&&Wn(r,t))||t===s&&!(e in n))&&ne(n,e,t)}function nr(n,e){for(var t=n.length;t--;)if(Wn(n[t][0],e))return t;return-1}function Dl(n,e,t,r){return ge(n,function(i,a,o){e(r,i,t(i),o)}),r}function Zs(n,e){return n&&Yn(e,un(e),n)}function Wl(n,e){return n&&Yn(e,wn(e),n)}function ne(n,e,t){e=="__proto__"&&Zt?Zt(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}function ei(n,e){for(var t=-1,r=e.length,i=g(r),a=n==null;++t<r;)i[t]=a?s:Ui(n,e[t]);return i}function xe(n,e,t){return n===n&&(t!==s&&(n=n<=t?n:t),e!==s&&(n=n>=e?n:e)),n}function Mn(n,e,t,r,i,a){var o,l=e&Z,c=e&It,_=e&ae;if(t&&(o=i?t(n,r,i,a):t(n)),o!==s)return o;if(!Q(n))return n;var w=R(n);if(w){if(o=Ac(n),!l)return pn(n,o)}else{var v=cn(n),y=v==Pt||v==Xi;if(we(n))return vu(n,l);if(v==Jn||v==ke||y&&!i){if(o=c||y?{}:ku(n),!l)return c?_c(n,Wl(o,n)):pc(n,Zs(o,n))}else{if(!z[v])return i?n:{};o=Ic(n,v,l)}}a||(a=new Dn);var x=a.get(n);if(x)return x;a.set(n,o),ha(n)?n.forEach(function(A){o.add(Mn(A,e,t,A,n,a))}):la(n)&&n.forEach(function(A,F){o.set(F,Mn(A,e,t,F,n,a))});var I=_?c?Ei:yi:c?wn:un,P=w?s:I(n);return In(P||n,function(A,F){P&&(F=A,A=n[F]),pt(o,F,Mn(A,e,t,F,n,a))}),o}function Nl(n){var e=un(n);return function(t){return Qs(t,n,e)}}function Qs(n,e,t){var r=t.length;if(n==null)return!r;for(n=H(n);r--;){var i=t[r],a=e[i],o=n[i];if(o===s&&!(i in n)||!a(o))return!1}return!0}function Xs(n,e,t){if(typeof n!="function")throw new Tn(S);return bt(function(){n.apply(s,t)},e)}function _t(n,e,t,r){var i=-1,a=kt,o=!0,l=n.length,c=[],_=e.length;if(!l)return c;t&&(e=Y(e,En(t))),r?(a=Gr,o=!1):e.length>=E&&(a=ft,o=!1,e=new Se(e));n:for(;++i<l;){var w=n[i],v=t==null?w:t(w);if(w=r||w!==0?w:0,o&&v===v){for(var y=_;y--;)if(e[y]===v)continue n;c.push(w)}else a(e,v,r)||c.push(w)}return c}var ge=Su(Kn),Js=Su(ri,!0);function Gl(n,e){var t=!0;return ge(n,function(r,i,a){return t=!!e(r,i,a),t}),t}function er(n,e,t){for(var r=-1,i=n.length;++r<i;){var a=n[r],o=e(a);if(o!=null&&(l===s?o===o&&!Sn(o):t(o,l)))var l=o,c=a}return c}function $l(n,e,t,r){var i=n.length;for(t=M(t),t<0&&(t=-t>i?0:i+t),r=r===s||r>i?i:M(r),r<0&&(r+=i),r=t>r?0:da(r);t<r;)n[t++]=e;return n}function Vs(n,e){var t=[];return ge(n,function(r,i,a){e(r,i,a)&&t.push(r)}),t}function on(n,e,t,r,i){var a=-1,o=n.length;for(t||(t=Rc),i||(i=[]);++a<o;){var l=n[a];e>0&&t(l)?e>1?on(l,e-1,t,r,i):le(i,l):r||(i[i.length]=l)}return i}var ti=xu(),js=xu(!0);function Kn(n,e){return n&&ti(n,e,un)}function ri(n,e){return n&&js(n,e,un)}function tr(n,e){return fe(e,function(t){return ie(n[t])})}function Ce(n,e){e=pe(e,n);for(var t=0,r=e.length;n!=null&&t<r;)n=n[Zn(e[t++])];return t&&t==r?n:s}function nu(n,e,t){var r=e(n);return R(n)?r:le(r,t(n))}function hn(n){return n==null?n===s?wo:po:Ee&&Ee in H(n)?xc(n):kc(n)}function ii(n,e){return n>e}function Hl(n,e){return n!=null&&$.call(n,e)}function ql(n,e){return n!=null&&e in H(n)}function zl(n,e,t){return n>=ln(e,t)&&n<rn(e,t)}function si(n,e,t){for(var r=t?Gr:kt,i=n[0].length,a=n.length,o=a,l=g(a),c=1/0,_=[];o--;){var w=n[o];o&&e&&(w=Y(w,En(e))),c=ln(w.length,c),l[o]=!t&&(e||i>=120&&w.length>=120)?new Se(o&&w):s}w=n[0];var v=-1,y=l[0];n:for(;++v<i&&_.length<c;){var x=w[v],I=e?e(x):x;if(x=t||x!==0?x:0,!(y?ft(y,I):r(_,I,t))){for(o=a;--o;){var P=l[o];if(!(P?ft(P,I):r(n[o],I,t)))continue n}y&&y.push(I),_.push(x)}}return _}function Kl(n,e,t,r){return Kn(n,function(i,a,o){e(r,t(i),a,o)}),r}function wt(n,e,t){e=pe(e,n),n=Gu(n,e);var r=n==null?n:n[Zn(On(e))];return r==null?s:yn(r,n,t)}function eu(n){return j(n)&&hn(n)==ke}function Yl(n){return j(n)&&hn(n)==ot}function Zl(n){return j(n)&&hn(n)==rt}function vt(n,e,t,r,i){return n===e?!0:n==null||e==null||!j(n)&&!j(e)?n!==n&&e!==e:Ql(n,e,t,r,vt,i)}function Ql(n,e,t,r,i,a){var o=R(n),l=R(e),c=o?Rt:cn(n),_=l?Rt:cn(e);c=c==ke?Jn:c,_=_==ke?Jn:_;var w=c==Jn,v=_==Jn,y=c==_;if(y&&we(n)){if(!we(e))return!1;o=!0,w=!1}if(y&&!w)return a||(a=new Dn),o||Je(n)?Fu(n,e,t,r,i,a):bc(n,e,c,t,r,i,a);if(!(t&Ln)){var x=w&&$.call(n,"__wrapped__"),I=v&&$.call(e,"__wrapped__");if(x||I){var P=x?n.value():n,A=I?e.value():e;return a||(a=new Dn),i(P,A,t,r,a)}}return y?(a||(a=new Dn),Sc(n,e,t,r,i,a)):!1}function Xl(n){return j(n)&&cn(n)==Un}function ui(n,e,t,r){var i=t.length,a=i,o=!r;if(n==null)return!a;for(n=H(n);i--;){var l=t[i];if(o&&l[2]?l[1]!==n[l[0]]:!(l[0]in n))return!1}for(;++i<a;){l=t[i];var c=l[0],_=n[c],w=l[1];if(o&&l[2]){if(_===s&&!(c in n))return!1}else{var v=new Dn;if(r)var y=r(_,w,c,n,e,v);if(!(y===s?vt(w,_,Ln|Fe,r,v):y))return!1}}return!0}function tu(n){if(!Q(n)||Pc(n))return!1;var e=ie(n)?Xf:Wo;return e.test(Ae(n))}function Jl(n){return j(n)&&hn(n)==st}function Vl(n){return j(n)&&cn(n)==Bn}function jl(n){return j(n)&&mr(n.length)&&!!K[hn(n)]}function ru(n){return typeof n=="function"?n:n==null?vn:typeof n=="object"?R(n)?uu(n[0],n[1]):su(n):Ca(n)}function ai(n){if(!Et(n))return tl(n);var e=[];for(var t in H(n))$.call(n,t)&&t!="constructor"&&e.push(t);return e}function nc(n){if(!Q(n))return Bc(n);var e=Et(n),t=[];for(var r in n)r=="constructor"&&(e||!$.call(n,r))||t.push(r);return t}function oi(n,e){return n<e}function iu(n,e){var t=-1,r=_n(n)?g(n.length):[];return ge(n,function(i,a,o){r[++t]=e(i,a,o)}),r}function su(n){var e=Si(n);return e.length==1&&e[0][2]?Wu(e[0][0],e[0][1]):function(t){return t===n||ui(t,n,e)}}function uu(n,e){return Ci(n)&&Du(e)?Wu(Zn(n),e):function(t){var r=Ui(t,n);return r===s&&r===e?Bi(t,n):vt(e,r,Ln|Fe)}}function rr(n,e,t,r,i){n!==e&&ti(e,function(a,o){if(i||(i=new Dn),Q(a))ec(n,e,o,t,rr,r,i);else{var l=r?r(Ai(n,o),a,o+"",n,e,i):s;l===s&&(l=a),ni(n,o,l)}},wn)}function ec(n,e,t,r,i,a,o){var l=Ai(n,t),c=Ai(e,t),_=o.get(c);if(_){ni(n,t,_);return}var w=a?a(l,c,t+"",n,e,o):s,v=w===s;if(v){var y=R(c),x=!y&&we(c),I=!y&&!x&&Je(c);w=c,y||x||I?R(l)?w=l:nn(l)?w=pn(l):x?(v=!1,w=vu(c,!0)):I?(v=!1,w=mu(c,!0)):w=[]:St(c)||Ie(c)?(w=l,Ie(l)?w=pa(l):(!Q(l)||ie(l))&&(w=ku(c))):v=!1}v&&(o.set(c,w),i(w,c,r,a,o),o.delete(c)),ni(n,t,w)}function au(n,e){var t=n.length;if(!!t)return e+=e<0?t:0,re(e,t)?n[e]:s}function ou(n,e,t){e.length?e=Y(e,function(a){return R(a)?function(o){return Ce(o,a.length===1?a[0]:a)}:a}):e=[vn];var r=-1;e=Y(e,En(L()));var i=iu(n,function(a,o,l){var c=Y(e,function(_){return _(a)});return{criteria:c,index:++r,value:a}});return If(i,function(a,o){return dc(a,o,t)})}function tc(n,e){return fu(n,e,function(t,r){return Bi(n,r)})}function fu(n,e,t){for(var r=-1,i=e.length,a={};++r<i;){var o=e[r],l=Ce(n,o);t(l,o)&&mt(a,pe(o,n),l)}return a}function rc(n){return function(e){return Ce(e,n)}}function fi(n,e,t,r){var i=r?Af:Ne,a=-1,o=e.length,l=n;for(n===e&&(e=pn(e)),t&&(l=Y(n,En(t)));++a<o;)for(var c=0,_=e[a],w=t?t(_):_;(c=i(l,w,c,r))>-1;)l!==n&&Yt.call(l,c,1),Yt.call(n,c,1);return n}function lu(n,e){for(var t=n?e.length:0,r=t-1;t--;){var i=e[t];if(t==r||i!==a){var a=i;re(i)?Yt.call(n,i,1):gi(n,i)}}return n}function li(n,e){return n+Xt(qs()*(e-n+1))}function ic(n,e,t,r){for(var i=-1,a=rn(Qt((e-n)/(t||1)),0),o=g(a);a--;)o[r?a:++i]=n,n+=t;return o}function ci(n,e){var t="";if(!n||e<1||e>oe)return t;do e%2&&(t+=n),e=Xt(e/2),e&&(n+=n);while(e);return t}function O(n,e){return Ii(Nu(n,e,vn),n+"")}function sc(n){return Ys(Ve(n))}function uc(n,e){var t=Ve(n);return gr(t,xe(e,0,t.length))}function mt(n,e,t,r){if(!Q(n))return n;e=pe(e,n);for(var i=-1,a=e.length,o=a-1,l=n;l!=null&&++i<a;){var c=Zn(e[i]),_=t;if(c==="__proto__"||c==="constructor"||c==="prototype")return n;if(i!=o){var w=l[c];_=r?r(w,c,l):s,_===s&&(_=Q(w)?w:re(e[i+1])?[]:{})}pt(l,c,_),l=l[c]}return n}var cu=Jt?function(n,e){return Jt.set(n,e),n}:vn,ac=Zt?function(n,e){return Zt(n,"toString",{configurable:!0,enumerable:!1,value:Di(e),writable:!0})}:vn;function oc(n){return gr(Ve(n))}function Pn(n,e,t){var r=-1,i=n.length;e<0&&(e=-e>i?0:i+e),t=t>i?i:t,t<0&&(t+=i),i=e>t?0:t-e>>>0,e>>>=0;for(var a=g(i);++r<i;)a[r]=n[r+e];return a}function fc(n,e){var t;return ge(n,function(r,i,a){return t=e(r,i,a),!t}),!!t}function ir(n,e,t){var r=0,i=n==null?r:n.length;if(typeof e=="number"&&e===e&&i<=lo){for(;r<i;){var a=r+i>>>1,o=n[a];o!==null&&!Sn(o)&&(t?o<=e:o<e)?r=a+1:i=a}return i}return hi(n,e,vn,t)}function hi(n,e,t,r){var i=0,a=n==null?0:n.length;if(a===0)return 0;e=t(e);for(var o=e!==e,l=e===null,c=Sn(e),_=e===s;i<a;){var w=Xt((i+a)/2),v=t(n[w]),y=v!==s,x=v===null,I=v===v,P=Sn(v);if(o)var A=r||I;else _?A=I&&(r||y):l?A=I&&y&&(r||!x):c?A=I&&y&&!x&&(r||!P):x||P?A=!1:A=r?v<=e:v<e;A?i=w+1:a=w}return ln(a,fo)}function hu(n,e){for(var t=-1,r=n.length,i=0,a=[];++t<r;){var o=n[t],l=e?e(o):o;if(!t||!Wn(l,c)){var c=l;a[i++]=o===0?0:o}}return a}function gu(n){return typeof n=="number"?n:Sn(n)?Tt:+n}function bn(n){if(typeof n=="string")return n;if(R(n))return Y(n,bn)+"";if(Sn(n))return zs?zs.call(n):"";var e=n+"";return e=="0"&&1/n==-me?"-0":e}function de(n,e,t){var r=-1,i=kt,a=n.length,o=!0,l=[],c=l;if(t)o=!1,i=Gr;else if(a>=E){var _=e?null:yc(n);if(_)return Wt(_);o=!1,i=ft,c=new Se}else c=e?[]:l;n:for(;++r<a;){var w=n[r],v=e?e(w):w;if(w=t||w!==0?w:0,o&&v===v){for(var y=c.length;y--;)if(c[y]===v)continue n;e&&c.push(v),l.push(w)}else i(c,v,t)||(c!==l&&c.push(v),l.push(w))}return l}function gi(n,e){return e=pe(e,n),n=Gu(n,e),n==null||delete n[Zn(On(e))]}function du(n,e,t,r){return mt(n,e,t(Ce(n,e)),r)}function sr(n,e,t,r){for(var i=n.length,a=r?i:-1;(r?a--:++a<i)&&e(n[a],a,n););return t?Pn(n,r?0:a,r?a+1:i):Pn(n,r?a+1:0,r?i:a)}function pu(n,e){var t=n;return t instanceof U&&(t=t.value()),$r(e,function(r,i){return i.func.apply(i.thisArg,le([r],i.args))},t)}function di(n,e,t){var r=n.length;if(r<2)return r?de(n[0]):[];for(var i=-1,a=g(r);++i<r;)for(var o=n[i],l=-1;++l<r;)l!=i&&(a[i]=_t(a[i]||o,n[l],e,t));return de(on(a,1),e,t)}function _u(n,e,t){for(var r=-1,i=n.length,a=e.length,o={};++r<i;){var l=r<a?e[r]:s;t(o,n[r],l)}return o}function pi(n){return nn(n)?n:[]}function _i(n){return typeof n=="function"?n:vn}function pe(n,e){return R(n)?n:Ci(n,e)?[n]:zu(N(n))}var lc=O;function _e(n,e,t){var r=n.length;return t=t===s?r:t,!e&&t>=r?n:Pn(n,e,t)}var wu=Jf||function(n){return an.clearTimeout(n)};function vu(n,e){if(e)return n.slice();var t=n.length,r=Ws?Ws(t):new n.constructor(t);return n.copy(r),r}function wi(n){var e=new n.constructor(n.byteLength);return new zt(e).set(new zt(n)),e}function cc(n,e){var t=e?wi(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.byteLength)}function hc(n){var e=new n.constructor(n.source,rs.exec(n));return e.lastIndex=n.lastIndex,e}function gc(n){return dt?H(dt.call(n)):{}}function mu(n,e){var t=e?wi(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)}function yu(n,e){if(n!==e){var t=n!==s,r=n===null,i=n===n,a=Sn(n),o=e!==s,l=e===null,c=e===e,_=Sn(e);if(!l&&!_&&!a&&n>e||a&&o&&c&&!l&&!_||r&&o&&c||!t&&c||!i)return 1;if(!r&&!a&&!_&&n<e||_&&t&&i&&!r&&!a||l&&t&&i||!o&&i||!c)return-1}return 0}function dc(n,e,t){for(var r=-1,i=n.criteria,a=e.criteria,o=i.length,l=t.length;++r<o;){var c=yu(i[r],a[r]);if(c){if(r>=l)return c;var _=t[r];return c*(_=="desc"?-1:1)}}return n.index-e.index}function Eu(n,e,t,r){for(var i=-1,a=n.length,o=t.length,l=-1,c=e.length,_=rn(a-o,0),w=g(c+_),v=!r;++l<c;)w[l]=e[l];for(;++i<o;)(v||i<a)&&(w[t[i]]=n[i]);for(;_--;)w[l++]=n[i++];return w}function bu(n,e,t,r){for(var i=-1,a=n.length,o=-1,l=t.length,c=-1,_=e.length,w=rn(a-l,0),v=g(w+_),y=!r;++i<w;)v[i]=n[i];for(var x=i;++c<_;)v[x+c]=e[c];for(;++o<l;)(y||i<a)&&(v[x+t[o]]=n[i++]);return v}function pn(n,e){var t=-1,r=n.length;for(e||(e=g(r));++t<r;)e[t]=n[t];return e}function Yn(n,e,t,r){var i=!t;t||(t={});for(var a=-1,o=e.length;++a<o;){var l=e[a],c=r?r(t[l],n[l],l,t,n):s;c===s&&(c=n[l]),i?ne(t,l,c):pt(t,l,c)}return t}function pc(n,e){return Yn(n,xi(n),e)}function _c(n,e){return Yn(n,Uu(n),e)}function ur(n,e){return function(t,r){var i=R(t)?Ef:Dl,a=e?e():{};return i(t,n,L(r,2),a)}}function Ze(n){return O(function(e,t){var r=-1,i=t.length,a=i>1?t[i-1]:s,o=i>2?t[2]:s;for(a=n.length>3&&typeof a=="function"?(i--,a):s,o&&gn(t[0],t[1],o)&&(a=i<3?s:a,i=1),e=H(e);++r<i;){var l=t[r];l&&n(e,l,r,a)}return e})}function Su(n,e){return function(t,r){if(t==null)return t;if(!_n(t))return n(t,r);for(var i=t.length,a=e?i:-1,o=H(t);(e?a--:++a<i)&&r(o[a],a,o)!==!1;);return t}}function xu(n){return function(e,t,r){for(var i=-1,a=H(e),o=r(e),l=o.length;l--;){var c=o[n?l:++i];if(t(a[c],c,a)===!1)break}return e}}function wc(n,e,t){var r=e&sn,i=yt(n);function a(){var o=this&&this!==an&&this instanceof a?i:n;return o.apply(r?t:this,arguments)}return a}function Cu(n){return function(e){e=N(e);var t=Ge(e)?kn(e):s,r=t?t[0]:e.charAt(0),i=t?_e(t,1).join(""):e.slice(1);return r[n]()+i}}function Qe(n){return function(e){return $r(Sa(ba(e).replace(af,"")),n,"")}}function yt(n){return function(){var e=arguments;switch(e.length){case 0:return new n;case 1:return new n(e[0]);case 2:return new n(e[0],e[1]);case 3:return new n(e[0],e[1],e[2]);case 4:return new n(e[0],e[1],e[2],e[3]);case 5:return new n(e[0],e[1],e[2],e[3],e[4]);case 6:return new n(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new n(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var t=Ye(n.prototype),r=n.apply(t,e);return Q(r)?r:t}}function vc(n,e,t){var r=yt(n);function i(){for(var a=arguments.length,o=g(a),l=a,c=Xe(i);l--;)o[l]=arguments[l];var _=a<3&&o[0]!==c&&o[a-1]!==c?[]:ce(o,c);if(a-=_.length,a<t)return Ru(n,e,ar,i.placeholder,s,o,_,s,s,t-a);var w=this&&this!==an&&this instanceof i?r:n;return yn(w,this,o)}return i}function Lu(n){return function(e,t,r){var i=H(e);if(!_n(e)){var a=L(t,3);e=un(e),t=function(l){return a(i[l],l,i)}}var o=n(e,t,r);return o>-1?i[a?e[o]:o]:s}}function Au(n){return te(function(e){var t=e.length,r=t,i=Rn.prototype.thru;for(n&&e.reverse();r--;){var a=e[r];if(typeof a!="function")throw new Tn(S);if(i&&!o&&cr(a)=="wrapper")var o=new Rn([],!0)}for(r=o?r:t;++r<t;){a=e[r];var l=cr(a),c=l=="wrapper"?bi(a):s;c&&Li(c[0])&&c[1]==(Xn|mn|qn|et)&&!c[4].length&&c[9]==1?o=o[cr(c[0])].apply(o,c[3]):o=a.length==1&&Li(a)?o[l]():o.thru(a)}return function(){var _=arguments,w=_[0];if(o&&_.length==1&&R(w))return o.plant(w).value();for(var v=0,y=t?e[v].apply(this,_):w;++v<t;)y=e[v].call(this,y);return y}})}function ar(n,e,t,r,i,a,o,l,c,_){var w=e&Xn,v=e&sn,y=e&Hn,x=e&(mn|Ue),I=e&Sr,P=y?s:yt(n);function A(){for(var F=arguments.length,k=g(F),xn=F;xn--;)k[xn]=arguments[xn];if(x)var dn=Xe(A),Cn=Rf(k,dn);if(r&&(k=Eu(k,r,i,x)),a&&(k=bu(k,a,o,x)),F-=Cn,x&&F<_){var en=ce(k,dn);return Ru(n,e,ar,A.placeholder,t,k,en,l,c,_-F)}var Nn=v?t:this,ue=y?Nn[n]:n;return F=k.length,l?k=Dc(k,l):I&&F>1&&k.reverse(),w&&c<F&&(k.length=c),this&&this!==an&&this instanceof A&&(ue=P||yt(ue)),ue.apply(Nn,k)}return A}function Iu(n,e){return function(t,r){return Kl(t,n,e(r),{})}}function or(n,e){return function(t,r){var i;if(t===s&&r===s)return e;if(t!==s&&(i=t),r!==s){if(i===s)return r;typeof t=="string"||typeof r=="string"?(t=bn(t),r=bn(r)):(t=gu(t),r=gu(r)),i=n(t,r)}return i}}function vi(n){return te(function(e){return e=Y(e,En(L())),O(function(t){var r=this;return n(e,function(i){return yn(i,r,t)})})})}function fr(n,e){e=e===s?" ":bn(e);var t=e.length;if(t<2)return t?ci(e,n):e;var r=ci(e,Qt(n/$e(e)));return Ge(e)?_e(kn(r),0,n).join(""):r.slice(0,n)}function mc(n,e,t,r){var i=e&sn,a=yt(n);function o(){for(var l=-1,c=arguments.length,_=-1,w=r.length,v=g(w+c),y=this&&this!==an&&this instanceof o?a:n;++_<w;)v[_]=r[_];for(;c--;)v[_++]=arguments[++l];return yn(y,i?t:this,v)}return o}function Tu(n){return function(e,t,r){return r&&typeof r!="number"&&gn(e,t,r)&&(t=r=s),e=se(e),t===s?(t=e,e=0):t=se(t),r=r===s?e<t?1:-1:se(r),ic(e,t,r,n)}}function lr(n){return function(e,t){return typeof e=="string"&&typeof t=="string"||(e=Fn(e),t=Fn(t)),n(e,t)}}function Ru(n,e,t,r,i,a,o,l,c,_){var w=e&mn,v=w?o:s,y=w?s:o,x=w?a:s,I=w?s:a;e|=w?qn:Be,e&=~(w?Be:qn),e&nt||(e&=~(sn|Hn));var P=[n,e,i,x,v,I,y,l,c,_],A=t.apply(s,P);return Li(n)&&$u(A,P),A.placeholder=r,Hu(A,n,e)}function mi(n){var e=tn[n];return function(t,r){if(t=Fn(t),r=r==null?0:ln(M(r),292),r&&Hs(t)){var i=(N(t)+"e").split("e"),a=e(i[0]+"e"+(+i[1]+r));return i=(N(a)+"e").split("e"),+(i[0]+"e"+(+i[1]-r))}return e(t)}}var yc=ze&&1/Wt(new ze([,-0]))[1]==me?function(n){return new ze(n)}:Gi;function Mu(n){return function(e){var t=cn(e);return t==Un?Qr(e):t==Bn?kf(e):Tf(e,n(e))}}function ee(n,e,t,r,i,a,o,l){var c=e&Hn;if(!c&&typeof n!="function")throw new Tn(S);var _=r?r.length:0;if(_||(e&=~(qn|Be),r=i=s),o=o===s?o:rn(M(o),0),l=l===s?l:M(l),_-=i?i.length:0,e&Be){var w=r,v=i;r=i=s}var y=c?s:bi(n),x=[n,e,t,r,i,w,v,a,o,l];if(y&&Uc(x,y),n=x[0],e=x[1],t=x[2],r=x[3],i=x[4],l=x[9]=x[9]===s?c?0:n.length:rn(x[9]-_,0),!l&&e&(mn|Ue)&&(e&=~(mn|Ue)),!e||e==sn)var I=wc(n,e,t);else e==mn||e==Ue?I=vc(n,e,l):(e==qn||e==(sn|qn))&&!i.length?I=mc(n,e,t,r):I=ar.apply(s,x);var P=y?cu:$u;return Hu(P(I,x),n,e)}function Pu(n,e,t,r){return n===s||Wn(n,qe[t])&&!$.call(r,t)?e:n}function Ou(n,e,t,r,i,a){return Q(n)&&Q(e)&&(a.set(e,n),rr(n,e,s,Ou,a),a.delete(e)),n}function Ec(n){return St(n)?s:n}function Fu(n,e,t,r,i,a){var o=t&Ln,l=n.length,c=e.length;if(l!=c&&!(o&&c>l))return!1;var _=a.get(n),w=a.get(e);if(_&&w)return _==e&&w==n;var v=-1,y=!0,x=t&Fe?new Se:s;for(a.set(n,e),a.set(e,n);++v<l;){var I=n[v],P=e[v];if(r)var A=o?r(P,I,v,e,n,a):r(I,P,v,n,e,a);if(A!==s){if(A)continue;y=!1;break}if(x){if(!Hr(e,function(F,k){if(!ft(x,k)&&(I===F||i(I,F,t,r,a)))return x.push(k)})){y=!1;break}}else if(!(I===P||i(I,P,t,r,a))){y=!1;break}}return a.delete(n),a.delete(e),y}function bc(n,e,t,r,i,a,o){switch(t){case De:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case ot:return!(n.byteLength!=e.byteLength||!a(new zt(n),new zt(e)));case tt:case rt:case it:return Wn(+n,+e);case Mt:return n.name==e.name&&n.message==e.message;case st:case ut:return n==e+"";case Un:var l=Qr;case Bn:var c=r&Ln;if(l||(l=Wt),n.size!=e.size&&!c)return!1;var _=o.get(n);if(_)return _==e;r|=Fe,o.set(n,e);var w=Fu(l(n),l(e),r,i,a,o);return o.delete(n),w;case Ot:if(dt)return dt.call(n)==dt.call(e)}return!1}function Sc(n,e,t,r,i,a){var o=t&Ln,l=yi(n),c=l.length,_=yi(e),w=_.length;if(c!=w&&!o)return!1;for(var v=c;v--;){var y=l[v];if(!(o?y in e:$.call(e,y)))return!1}var x=a.get(n),I=a.get(e);if(x&&I)return x==e&&I==n;var P=!0;a.set(n,e),a.set(e,n);for(var A=o;++v<c;){y=l[v];var F=n[y],k=e[y];if(r)var xn=o?r(k,F,y,e,n,a):r(F,k,y,n,e,a);if(!(xn===s?F===k||i(F,k,t,r,a):xn)){P=!1;break}A||(A=y=="constructor")}if(P&&!A){var dn=n.constructor,Cn=e.constructor;dn!=Cn&&"constructor"in n&&"constructor"in e&&!(typeof dn=="function"&&dn instanceof dn&&typeof Cn=="function"&&Cn instanceof Cn)&&(P=!1)}return a.delete(n),a.delete(e),P}function te(n){return Ii(Nu(n,s,Qu),n+"")}function yi(n){return nu(n,un,xi)}function Ei(n){return nu(n,wn,Uu)}var bi=Jt?function(n){return Jt.get(n)}:Gi;function cr(n){for(var e=n.name+"",t=Ke[e],r=$.call(Ke,e)?t.length:0;r--;){var i=t[r],a=i.func;if(a==null||a==n)return i.name}return e}function Xe(n){var e=$.call(u,"placeholder")?u:n;return e.placeholder}function L(){var n=u.iteratee||Wi;return n=n===Wi?ru:n,arguments.length?n(arguments[0],arguments[1]):n}function hr(n,e){var t=n.__data__;return Mc(e)?t[typeof e=="string"?"string":"hash"]:t.map}function Si(n){for(var e=un(n),t=e.length;t--;){var r=e[t],i=n[r];e[t]=[r,i,Du(i)]}return e}function Le(n,e){var t=Ff(n,e);return tu(t)?t:s}function xc(n){var e=$.call(n,Ee),t=n[Ee];try{n[Ee]=s;var r=!0}catch{}var i=Ht.call(n);return r&&(e?n[Ee]=t:delete n[Ee]),i}var xi=Jr?function(n){return n==null?[]:(n=H(n),fe(Jr(n),function(e){return Gs.call(n,e)}))}:$i,Uu=Jr?function(n){for(var e=[];n;)le(e,xi(n)),n=Kt(n);return e}:$i,cn=hn;(Vr&&cn(new Vr(new ArrayBuffer(1)))!=De||ct&&cn(new ct)!=Un||jr&&cn(jr.resolve())!=Ji||ze&&cn(new ze)!=Bn||ht&&cn(new ht)!=at)&&(cn=function(n){var e=hn(n),t=e==Jn?n.constructor:s,r=t?Ae(t):"";if(r)switch(r){case ul:return De;case al:return Un;case ol:return Ji;case fl:return Bn;case ll:return at}return e});function Cc(n,e,t){for(var r=-1,i=t.length;++r<i;){var a=t[r],o=a.size;switch(a.type){case"drop":n+=o;break;case"dropRight":e-=o;break;case"take":e=ln(e,n+o);break;case"takeRight":n=rn(n,e-o);break}}return{start:n,end:e}}function Lc(n){var e=n.match(Po);return e?e[1].split(Oo):[]}function Bu(n,e,t){e=pe(e,n);for(var r=-1,i=e.length,a=!1;++r<i;){var o=Zn(e[r]);if(!(a=n!=null&&t(n,o)))break;n=n[o]}return a||++r!=i?a:(i=n==null?0:n.length,!!i&&mr(i)&&re(o,i)&&(R(n)||Ie(n)))}function Ac(n){var e=n.length,t=new n.constructor(e);return e&&typeof n[0]=="string"&&$.call(n,"index")&&(t.index=n.index,t.input=n.input),t}function ku(n){return typeof n.constructor=="function"&&!Et(n)?Ye(Kt(n)):{}}function Ic(n,e,t){var r=n.constructor;switch(e){case ot:return wi(n);case tt:case rt:return new r(+n);case De:return cc(n,t);case xr:case Cr:case Lr:case Ar:case Ir:case Tr:case Rr:case Mr:case Pr:return mu(n,t);case Un:return new r;case it:case ut:return new r(n);case st:return hc(n);case Bn:return new r;case Ot:return gc(n)}}function Tc(n,e){var t=e.length;if(!t)return n;var r=t-1;return e[r]=(t>1?"& ":"")+e[r],e=e.join(t>2?", ":" "),n.replace(Mo,`{
/* [wrapped with `+e+`] */
`)}function Rc(n){return R(n)||Ie(n)||!!($s&&n&&n[$s])}function re(n,e){var t=typeof n;return e=e==null?oe:e,!!e&&(t=="number"||t!="symbol"&&Go.test(n))&&n>-1&&n%1==0&&n<e}function gn(n,e,t){if(!Q(t))return!1;var r=typeof e;return(r=="number"?_n(t)&&re(e,t.length):r=="string"&&e in t)?Wn(t[e],n):!1}function Ci(n,e){if(R(n))return!1;var t=typeof n;return t=="number"||t=="symbol"||t=="boolean"||n==null||Sn(n)?!0:Ao.test(n)||!Lo.test(n)||e!=null&&n in H(e)}function Mc(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}function Li(n){var e=cr(n),t=u[e];if(typeof t!="function"||!(e in U.prototype))return!1;if(n===t)return!0;var r=bi(t);return!!r&&n===r[0]}function Pc(n){return!!Ds&&Ds in n}var Oc=Gt?ie:Hi;function Et(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||qe;return n===t}function Du(n){return n===n&&!Q(n)}function Wu(n,e){return function(t){return t==null?!1:t[n]===e&&(e!==s||n in H(t))}}function Fc(n){var e=wr(n,function(r){return t.size===V&&t.clear(),r}),t=e.cache;return e}function Uc(n,e){var t=n[1],r=e[1],i=t|r,a=i<(sn|Hn|Xn),o=r==Xn&&t==mn||r==Xn&&t==et&&n[7].length<=e[8]||r==(Xn|et)&&e[7].length<=e[8]&&t==mn;if(!(a||o))return n;r&sn&&(n[2]=e[2],i|=t&sn?0:nt);var l=e[3];if(l){var c=n[3];n[3]=c?Eu(c,l,e[4]):l,n[4]=c?ce(n[3],D):e[4]}return l=e[5],l&&(c=n[5],n[5]=c?bu(c,l,e[6]):l,n[6]=c?ce(n[5],D):e[6]),l=e[7],l&&(n[7]=l),r&Xn&&(n[8]=n[8]==null?e[8]:ln(n[8],e[8])),n[9]==null&&(n[9]=e[9]),n[0]=e[0],n[1]=i,n}function Bc(n){var e=[];if(n!=null)for(var t in H(n))e.push(t);return e}function kc(n){return Ht.call(n)}function Nu(n,e,t){return e=rn(e===s?n.length-1:e,0),function(){for(var r=arguments,i=-1,a=rn(r.length-e,0),o=g(a);++i<a;)o[i]=r[e+i];i=-1;for(var l=g(e+1);++i<e;)l[i]=r[i];return l[e]=t(o),yn(n,this,l)}}function Gu(n,e){return e.length<2?n:Ce(n,Pn(e,0,-1))}function Dc(n,e){for(var t=n.length,r=ln(e.length,t),i=pn(n);r--;){var a=e[r];n[r]=re(a,t)?i[a]:s}return n}function Ai(n,e){if(!(e==="constructor"&&typeof n[e]=="function")&&e!="__proto__")return n[e]}var $u=qu(cu),bt=jf||function(n,e){return an.setTimeout(n,e)},Ii=qu(ac);function Hu(n,e,t){var r=e+"";return Ii(n,Tc(r,Wc(Lc(r),t)))}function qu(n){var e=0,t=0;return function(){var r=rl(),i=so-(r-t);if(t=r,i>0){if(++e>=io)return arguments[0]}else e=0;return n.apply(s,arguments)}}function gr(n,e){var t=-1,r=n.length,i=r-1;for(e=e===s?r:e;++t<e;){var a=li(t,i),o=n[a];n[a]=n[t],n[t]=o}return n.length=e,n}var zu=Fc(function(n){var e=[];return n.charCodeAt(0)===46&&e.push(""),n.replace(Io,function(t,r,i,a){e.push(i?a.replace(Uo,"$1"):r||t)}),e});function Zn(n){if(typeof n=="string"||Sn(n))return n;var e=n+"";return e=="0"&&1/n==-me?"-0":e}function Ae(n){if(n!=null){try{return $t.call(n)}catch{}try{return n+""}catch{}}return""}function Wc(n,e){return In(co,function(t){var r="_."+t[0];e&t[1]&&!kt(n,r)&&n.push(r)}),n.sort()}function Ku(n){if(n instanceof U)return n.clone();var e=new Rn(n.__wrapped__,n.__chain__);return e.__actions__=pn(n.__actions__),e.__index__=n.__index__,e.__values__=n.__values__,e}function Nc(n,e,t){(t?gn(n,e,t):e===s)?e=1:e=rn(M(e),0);var r=n==null?0:n.length;if(!r||e<1)return[];for(var i=0,a=0,o=g(Qt(r/e));i<r;)o[a++]=Pn(n,i,i+=e);return o}function Gc(n){for(var e=-1,t=n==null?0:n.length,r=0,i=[];++e<t;){var a=n[e];a&&(i[r++]=a)}return i}function $c(){var n=arguments.length;if(!n)return[];for(var e=g(n-1),t=arguments[0],r=n;r--;)e[r-1]=arguments[r];return le(R(t)?pn(t):[t],on(e,1))}var Hc=O(function(n,e){return nn(n)?_t(n,on(e,1,nn,!0)):[]}),qc=O(function(n,e){var t=On(e);return nn(t)&&(t=s),nn(n)?_t(n,on(e,1,nn,!0),L(t,2)):[]}),zc=O(function(n,e){var t=On(e);return nn(t)&&(t=s),nn(n)?_t(n,on(e,1,nn,!0),s,t):[]});function Kc(n,e,t){var r=n==null?0:n.length;return r?(e=t||e===s?1:M(e),Pn(n,e<0?0:e,r)):[]}function Yc(n,e,t){var r=n==null?0:n.length;return r?(e=t||e===s?1:M(e),e=r-e,Pn(n,0,e<0?0:e)):[]}function Zc(n,e){return n&&n.length?sr(n,L(e,3),!0,!0):[]}function Qc(n,e){return n&&n.length?sr(n,L(e,3),!0):[]}function Xc(n,e,t,r){var i=n==null?0:n.length;return i?(t&&typeof t!="number"&&gn(n,e,t)&&(t=0,r=i),$l(n,e,t,r)):[]}function Yu(n,e,t){var r=n==null?0:n.length;if(!r)return-1;var i=t==null?0:M(t);return i<0&&(i=rn(r+i,0)),Dt(n,L(e,3),i)}function Zu(n,e,t){var r=n==null?0:n.length;if(!r)return-1;var i=r-1;return t!==s&&(i=M(t),i=t<0?rn(r+i,0):ln(i,r-1)),Dt(n,L(e,3),i,!0)}function Qu(n){var e=n==null?0:n.length;return e?on(n,1):[]}function Jc(n){var e=n==null?0:n.length;return e?on(n,me):[]}function Vc(n,e){var t=n==null?0:n.length;return t?(e=e===s?1:M(e),on(n,e)):[]}function jc(n){for(var e=-1,t=n==null?0:n.length,r={};++e<t;){var i=n[e];r[i[0]]=i[1]}return r}function Xu(n){return n&&n.length?n[0]:s}function nh(n,e,t){var r=n==null?0:n.length;if(!r)return-1;var i=t==null?0:M(t);return i<0&&(i=rn(r+i,0)),Ne(n,e,i)}function eh(n){var e=n==null?0:n.length;return e?Pn(n,0,-1):[]}var th=O(function(n){var e=Y(n,pi);return e.length&&e[0]===n[0]?si(e):[]}),rh=O(function(n){var e=On(n),t=Y(n,pi);return e===On(t)?e=s:t.pop(),t.length&&t[0]===n[0]?si(t,L(e,2)):[]}),ih=O(function(n){var e=On(n),t=Y(n,pi);return e=typeof e=="function"?e:s,e&&t.pop(),t.length&&t[0]===n[0]?si(t,s,e):[]});function sh(n,e){return n==null?"":el.call(n,e)}function On(n){var e=n==null?0:n.length;return e?n[e-1]:s}function uh(n,e,t){var r=n==null?0:n.length;if(!r)return-1;var i=r;return t!==s&&(i=M(t),i=i<0?rn(r+i,0):ln(i,r-1)),e===e?Wf(n,e,i):Dt(n,Ps,i,!0)}function ah(n,e){return n&&n.length?au(n,M(e)):s}var oh=O(Ju);function Ju(n,e){return n&&n.length&&e&&e.length?fi(n,e):n}function fh(n,e,t){return n&&n.length&&e&&e.length?fi(n,e,L(t,2)):n}function lh(n,e,t){return n&&n.length&&e&&e.length?fi(n,e,s,t):n}var ch=te(function(n,e){var t=n==null?0:n.length,r=ei(n,e);return lu(n,Y(e,function(i){return re(i,t)?+i:i}).sort(yu)),r});function hh(n,e){var t=[];if(!(n&&n.length))return t;var r=-1,i=[],a=n.length;for(e=L(e,3);++r<a;){var o=n[r];e(o,r,n)&&(t.push(o),i.push(r))}return lu(n,i),t}function Ti(n){return n==null?n:sl.call(n)}function gh(n,e,t){var r=n==null?0:n.length;return r?(t&&typeof t!="number"&&gn(n,e,t)?(e=0,t=r):(e=e==null?0:M(e),t=t===s?r:M(t)),Pn(n,e,t)):[]}function dh(n,e){return ir(n,e)}function ph(n,e,t){return hi(n,e,L(t,2))}function _h(n,e){var t=n==null?0:n.length;if(t){var r=ir(n,e);if(r<t&&Wn(n[r],e))return r}return-1}function wh(n,e){return ir(n,e,!0)}function vh(n,e,t){return hi(n,e,L(t,2),!0)}function mh(n,e){var t=n==null?0:n.length;if(t){var r=ir(n,e,!0)-1;if(Wn(n[r],e))return r}return-1}function yh(n){return n&&n.length?hu(n):[]}function Eh(n,e){return n&&n.length?hu(n,L(e,2)):[]}function bh(n){var e=n==null?0:n.length;return e?Pn(n,1,e):[]}function Sh(n,e,t){return n&&n.length?(e=t||e===s?1:M(e),Pn(n,0,e<0?0:e)):[]}function xh(n,e,t){var r=n==null?0:n.length;return r?(e=t||e===s?1:M(e),e=r-e,Pn(n,e<0?0:e,r)):[]}function Ch(n,e){return n&&n.length?sr(n,L(e,3),!1,!0):[]}function Lh(n,e){return n&&n.length?sr(n,L(e,3)):[]}var Ah=O(function(n){return de(on(n,1,nn,!0))}),Ih=O(function(n){var e=On(n);return nn(e)&&(e=s),de(on(n,1,nn,!0),L(e,2))}),Th=O(function(n){var e=On(n);return e=typeof e=="function"?e:s,de(on(n,1,nn,!0),s,e)});function Rh(n){return n&&n.length?de(n):[]}function Mh(n,e){return n&&n.length?de(n,L(e,2)):[]}function Ph(n,e){return e=typeof e=="function"?e:s,n&&n.length?de(n,s,e):[]}function Ri(n){if(!(n&&n.length))return[];var e=0;return n=fe(n,function(t){if(nn(t))return e=rn(t.length,e),!0}),Yr(e,function(t){return Y(n,qr(t))})}function Vu(n,e){if(!(n&&n.length))return[];var t=Ri(n);return e==null?t:Y(t,function(r){return yn(e,s,r)})}var Oh=O(function(n,e){return nn(n)?_t(n,e):[]}),Fh=O(function(n){return di(fe(n,nn))}),Uh=O(function(n){var e=On(n);return nn(e)&&(e=s),di(fe(n,nn),L(e,2))}),Bh=O(function(n){var e=On(n);return e=typeof e=="function"?e:s,di(fe(n,nn),s,e)}),kh=O(Ri);function Dh(n,e){return _u(n||[],e||[],pt)}function Wh(n,e){return _u(n||[],e||[],mt)}var Nh=O(function(n){var e=n.length,t=e>1?n[e-1]:s;return t=typeof t=="function"?(n.pop(),t):s,Vu(n,t)});function ju(n){var e=u(n);return e.__chain__=!0,e}function Gh(n,e){return e(n),n}function dr(n,e){return e(n)}var $h=te(function(n){var e=n.length,t=e?n[0]:0,r=this.__wrapped__,i=function(a){return ei(a,n)};return e>1||this.__actions__.length||!(r instanceof U)||!re(t)?this.thru(i):(r=r.slice(t,+t+(e?1:0)),r.__actions__.push({func:dr,args:[i],thisArg:s}),new Rn(r,this.__chain__).thru(function(a){return e&&!a.length&&a.push(s),a}))});function Hh(){return ju(this)}function qh(){return new Rn(this.value(),this.__chain__)}function zh(){this.__values__===s&&(this.__values__=ga(this.value()));var n=this.__index__>=this.__values__.length,e=n?s:this.__values__[this.__index__++];return{done:n,value:e}}function Kh(){return this}function Yh(n){for(var e,t=this;t instanceof jt;){var r=Ku(t);r.__index__=0,r.__values__=s,e?i.__wrapped__=r:e=r;var i=r;t=t.__wrapped__}return i.__wrapped__=n,e}function Zh(){var n=this.__wrapped__;if(n instanceof U){var e=n;return this.__actions__.length&&(e=new U(this)),e=e.reverse(),e.__actions__.push({func:dr,args:[Ti],thisArg:s}),new Rn(e,this.__chain__)}return this.thru(Ti)}function Qh(){return pu(this.__wrapped__,this.__actions__)}var Xh=ur(function(n,e,t){$.call(n,t)?++n[t]:ne(n,t,1)});function Jh(n,e,t){var r=R(n)?Rs:Gl;return t&&gn(n,e,t)&&(e=s),r(n,L(e,3))}function Vh(n,e){var t=R(n)?fe:Vs;return t(n,L(e,3))}var jh=Lu(Yu),ng=Lu(Zu);function eg(n,e){return on(pr(n,e),1)}function tg(n,e){return on(pr(n,e),me)}function rg(n,e,t){return t=t===s?1:M(t),on(pr(n,e),t)}function na(n,e){var t=R(n)?In:ge;return t(n,L(e,3))}function ea(n,e){var t=R(n)?bf:Js;return t(n,L(e,3))}var ig=ur(function(n,e,t){$.call(n,t)?n[t].push(e):ne(n,t,[e])});function sg(n,e,t,r){n=_n(n)?n:Ve(n),t=t&&!r?M(t):0;var i=n.length;return t<0&&(t=rn(i+t,0)),yr(n)?t<=i&&n.indexOf(e,t)>-1:!!i&&Ne(n,e,t)>-1}var ug=O(function(n,e,t){var r=-1,i=typeof e=="function",a=_n(n)?g(n.length):[];return ge(n,function(o){a[++r]=i?yn(e,o,t):wt(o,e,t)}),a}),ag=ur(function(n,e,t){ne(n,t,e)});function pr(n,e){var t=R(n)?Y:iu;return t(n,L(e,3))}function og(n,e,t,r){return n==null?[]:(R(e)||(e=e==null?[]:[e]),t=r?s:t,R(t)||(t=t==null?[]:[t]),ou(n,e,t))}var fg=ur(function(n,e,t){n[t?0:1].push(e)},function(){return[[],[]]});function lg(n,e,t){var r=R(n)?$r:Fs,i=arguments.length<3;return r(n,L(e,4),t,i,ge)}function cg(n,e,t){var r=R(n)?Sf:Fs,i=arguments.length<3;return r(n,L(e,4),t,i,Js)}function hg(n,e){var t=R(n)?fe:Vs;return t(n,vr(L(e,3)))}function gg(n){var e=R(n)?Ys:sc;return e(n)}function dg(n,e,t){(t?gn(n,e,t):e===s)?e=1:e=M(e);var r=R(n)?Bl:uc;return r(n,e)}function pg(n){var e=R(n)?kl:oc;return e(n)}function _g(n){if(n==null)return 0;if(_n(n))return yr(n)?$e(n):n.length;var e=cn(n);return e==Un||e==Bn?n.size:ai(n).length}function wg(n,e,t){var r=R(n)?Hr:fc;return t&&gn(n,e,t)&&(e=s),r(n,L(e,3))}var vg=O(function(n,e){if(n==null)return[];var t=e.length;return t>1&&gn(n,e[0],e[1])?e=[]:t>2&&gn(e[0],e[1],e[2])&&(e=[e[0]]),ou(n,on(e,1),[])}),_r=Vf||function(){return an.Date.now()};function mg(n,e){if(typeof e!="function")throw new Tn(S);return n=M(n),function(){if(--n<1)return e.apply(this,arguments)}}function ta(n,e,t){return e=t?s:e,e=n&&e==null?n.length:e,ee(n,Xn,s,s,s,s,e)}function ra(n,e){var t;if(typeof e!="function")throw new Tn(S);return n=M(n),function(){return--n>0&&(t=e.apply(this,arguments)),n<=1&&(e=s),t}}var Mi=O(function(n,e,t){var r=sn;if(t.length){var i=ce(t,Xe(Mi));r|=qn}return ee(n,r,e,t,i)}),ia=O(function(n,e,t){var r=sn|Hn;if(t.length){var i=ce(t,Xe(ia));r|=qn}return ee(e,r,n,t,i)});function sa(n,e,t){e=t?s:e;var r=ee(n,mn,s,s,s,s,s,e);return r.placeholder=sa.placeholder,r}function ua(n,e,t){e=t?s:e;var r=ee(n,Ue,s,s,s,s,s,e);return r.placeholder=ua.placeholder,r}function aa(n,e,t){var r,i,a,o,l,c,_=0,w=!1,v=!1,y=!0;if(typeof n!="function")throw new Tn(S);e=Fn(e)||0,Q(t)&&(w=!!t.leading,v="maxWait"in t,a=v?rn(Fn(t.maxWait)||0,e):a,y="trailing"in t?!!t.trailing:y);function x(en){var Nn=r,ue=i;return r=i=s,_=en,o=n.apply(ue,Nn),o}function I(en){return _=en,l=bt(F,e),w?x(en):o}function P(en){var Nn=en-c,ue=en-_,La=e-Nn;return v?ln(La,a-ue):La}function A(en){var Nn=en-c,ue=en-_;return c===s||Nn>=e||Nn<0||v&&ue>=a}function F(){var en=_r();if(A(en))return k(en);l=bt(F,P(en))}function k(en){return l=s,y&&r?x(en):(r=i=s,o)}function xn(){l!==s&&wu(l),_=0,r=c=i=l=s}function dn(){return l===s?o:k(_r())}function Cn(){var en=_r(),Nn=A(en);if(r=arguments,i=this,c=en,Nn){if(l===s)return I(c);if(v)return wu(l),l=bt(F,e),x(c)}return l===s&&(l=bt(F,e)),o}return Cn.cancel=xn,Cn.flush=dn,Cn}var yg=O(function(n,e){return Xs(n,1,e)}),Eg=O(function(n,e,t){return Xs(n,Fn(e)||0,t)});function bg(n){return ee(n,Sr)}function wr(n,e){if(typeof n!="function"||e!=null&&typeof e!="function")throw new Tn(S);var t=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=t.cache;if(a.has(i))return a.get(i);var o=n.apply(this,r);return t.cache=a.set(i,o)||a,o};return t.cache=new(wr.Cache||jn),t}wr.Cache=jn;function vr(n){if(typeof n!="function")throw new Tn(S);return function(){var e=arguments;switch(e.length){case 0:return!n.call(this);case 1:return!n.call(this,e[0]);case 2:return!n.call(this,e[0],e[1]);case 3:return!n.call(this,e[0],e[1],e[2])}return!n.apply(this,e)}}function Sg(n){return ra(2,n)}var xg=lc(function(n,e){e=e.length==1&&R(e[0])?Y(e[0],En(L())):Y(on(e,1),En(L()));var t=e.length;return O(function(r){for(var i=-1,a=ln(r.length,t);++i<a;)r[i]=e[i].call(this,r[i]);return yn(n,this,r)})}),Pi=O(function(n,e){var t=ce(e,Xe(Pi));return ee(n,qn,s,e,t)}),oa=O(function(n,e){var t=ce(e,Xe(oa));return ee(n,Be,s,e,t)}),Cg=te(function(n,e){return ee(n,et,s,s,s,e)});function Lg(n,e){if(typeof n!="function")throw new Tn(S);return e=e===s?e:M(e),O(n,e)}function Ag(n,e){if(typeof n!="function")throw new Tn(S);return e=e==null?0:rn(M(e),0),O(function(t){var r=t[e],i=_e(t,0,e);return r&&le(i,r),yn(n,this,i)})}function Ig(n,e,t){var r=!0,i=!0;if(typeof n!="function")throw new Tn(S);return Q(t)&&(r="leading"in t?!!t.leading:r,i="trailing"in t?!!t.trailing:i),aa(n,e,{leading:r,maxWait:e,trailing:i})}function Tg(n){return ta(n,1)}function Rg(n,e){return Pi(_i(e),n)}function Mg(){if(!arguments.length)return[];var n=arguments[0];return R(n)?n:[n]}function Pg(n){return Mn(n,ae)}function Og(n,e){return e=typeof e=="function"?e:s,Mn(n,ae,e)}function Fg(n){return Mn(n,Z|ae)}function Ug(n,e){return e=typeof e=="function"?e:s,Mn(n,Z|ae,e)}function Bg(n,e){return e==null||Qs(n,e,un(e))}function Wn(n,e){return n===e||n!==n&&e!==e}var kg=lr(ii),Dg=lr(function(n,e){return n>=e}),Ie=eu(function(){return arguments}())?eu:function(n){return j(n)&&$.call(n,"callee")&&!Gs.call(n,"callee")},R=g.isArray,Wg=xs?En(xs):Yl;function _n(n){return n!=null&&mr(n.length)&&!ie(n)}function nn(n){return j(n)&&_n(n)}function Ng(n){return n===!0||n===!1||j(n)&&hn(n)==tt}var we=nl||Hi,Gg=Cs?En(Cs):Zl;function $g(n){return j(n)&&n.nodeType===1&&!St(n)}function Hg(n){if(n==null)return!0;if(_n(n)&&(R(n)||typeof n=="string"||typeof n.splice=="function"||we(n)||Je(n)||Ie(n)))return!n.length;var e=cn(n);if(e==Un||e==Bn)return!n.size;if(Et(n))return!ai(n).length;for(var t in n)if($.call(n,t))return!1;return!0}function qg(n,e){return vt(n,e)}function zg(n,e,t){t=typeof t=="function"?t:s;var r=t?t(n,e):s;return r===s?vt(n,e,s,t):!!r}function Oi(n){if(!j(n))return!1;var e=hn(n);return e==Mt||e==go||typeof n.message=="string"&&typeof n.name=="string"&&!St(n)}function Kg(n){return typeof n=="number"&&Hs(n)}function ie(n){if(!Q(n))return!1;var e=hn(n);return e==Pt||e==Xi||e==ho||e==_o}function fa(n){return typeof n=="number"&&n==M(n)}function mr(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=oe}function Q(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}function j(n){return n!=null&&typeof n=="object"}var la=Ls?En(Ls):Xl;function Yg(n,e){return n===e||ui(n,e,Si(e))}function Zg(n,e,t){return t=typeof t=="function"?t:s,ui(n,e,Si(e),t)}function Qg(n){return ca(n)&&n!=+n}function Xg(n){if(Oc(n))throw new T(C);return tu(n)}function Jg(n){return n===null}function Vg(n){return n==null}function ca(n){return typeof n=="number"||j(n)&&hn(n)==it}function St(n){if(!j(n)||hn(n)!=Jn)return!1;var e=Kt(n);if(e===null)return!0;var t=$.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&$t.call(t)==Zf}var Fi=As?En(As):Jl;function jg(n){return fa(n)&&n>=-oe&&n<=oe}var ha=Is?En(Is):Vl;function yr(n){return typeof n=="string"||!R(n)&&j(n)&&hn(n)==ut}function Sn(n){return typeof n=="symbol"||j(n)&&hn(n)==Ot}var Je=Ts?En(Ts):jl;function nd(n){return n===s}function ed(n){return j(n)&&cn(n)==at}function td(n){return j(n)&&hn(n)==vo}var rd=lr(oi),id=lr(function(n,e){return n<=e});function ga(n){if(!n)return[];if(_n(n))return yr(n)?kn(n):pn(n);if(lt&&n[lt])return Bf(n[lt]());var e=cn(n),t=e==Un?Qr:e==Bn?Wt:Ve;return t(n)}function se(n){if(!n)return n===0?n:0;if(n=Fn(n),n===me||n===-me){var e=n<0?-1:1;return e*oo}return n===n?n:0}function M(n){var e=se(n),t=e%1;return e===e?t?e-t:e:0}function da(n){return n?xe(M(n),0,zn):0}function Fn(n){if(typeof n=="number")return n;if(Sn(n))return Tt;if(Q(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=Q(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=n.replace(es,"");var t=Do.test(n);return t||No.test(n)?mf(n.slice(2),t?2:8):ko.test(n)?Tt:+n}function pa(n){return Yn(n,wn(n))}function sd(n){return n?xe(M(n),-oe,oe):n===0?n:0}function N(n){return n==null?"":bn(n)}var ud=Ze(function(n,e){if(Et(e)||_n(e)){Yn(e,un(e),n);return}for(var t in e)$.call(e,t)&&pt(n,t,e[t])}),_a=Ze(function(n,e){Yn(e,wn(e),n)}),Er=Ze(function(n,e,t,r){Yn(e,wn(e),n,r)}),ad=Ze(function(n,e,t,r){Yn(e,un(e),n,r)}),od=te(ei);function fd(n,e){var t=Ye(n);return e==null?t:Zs(t,e)}var ld=O(function(n,e){n=H(n);var t=-1,r=e.length,i=r>2?e[2]:s;for(i&&gn(e[0],e[1],i)&&(r=1);++t<r;)for(var a=e[t],o=wn(a),l=-1,c=o.length;++l<c;){var _=o[l],w=n[_];(w===s||Wn(w,qe[_])&&!$.call(n,_))&&(n[_]=a[_])}return n}),cd=O(function(n){return n.push(s,Ou),yn(wa,s,n)});function hd(n,e){return Ms(n,L(e,3),Kn)}function gd(n,e){return Ms(n,L(e,3),ri)}function dd(n,e){return n==null?n:ti(n,L(e,3),wn)}function pd(n,e){return n==null?n:js(n,L(e,3),wn)}function _d(n,e){return n&&Kn(n,L(e,3))}function wd(n,e){return n&&ri(n,L(e,3))}function vd(n){return n==null?[]:tr(n,un(n))}function md(n){return n==null?[]:tr(n,wn(n))}function Ui(n,e,t){var r=n==null?s:Ce(n,e);return r===s?t:r}function yd(n,e){return n!=null&&Bu(n,e,Hl)}function Bi(n,e){return n!=null&&Bu(n,e,ql)}var Ed=Iu(function(n,e,t){e!=null&&typeof e.toString!="function"&&(e=Ht.call(e)),n[e]=t},Di(vn)),bd=Iu(function(n,e,t){e!=null&&typeof e.toString!="function"&&(e=Ht.call(e)),$.call(n,e)?n[e].push(t):n[e]=[t]},L),Sd=O(wt);function un(n){return _n(n)?Ks(n):ai(n)}function wn(n){return _n(n)?Ks(n,!0):nc(n)}function xd(n,e){var t={};return e=L(e,3),Kn(n,function(r,i,a){ne(t,e(r,i,a),r)}),t}function Cd(n,e){var t={};return e=L(e,3),Kn(n,function(r,i,a){ne(t,i,e(r,i,a))}),t}var Ld=Ze(function(n,e,t){rr(n,e,t)}),wa=Ze(function(n,e,t,r){rr(n,e,t,r)}),Ad=te(function(n,e){var t={};if(n==null)return t;var r=!1;e=Y(e,function(a){return a=pe(a,n),r||(r=a.length>1),a}),Yn(n,Ei(n),t),r&&(t=Mn(t,Z|It|ae,Ec));for(var i=e.length;i--;)gi(t,e[i]);return t});function Id(n,e){return va(n,vr(L(e)))}var Td=te(function(n,e){return n==null?{}:tc(n,e)});function va(n,e){if(n==null)return{};var t=Y(Ei(n),function(r){return[r]});return e=L(e),fu(n,t,function(r,i){return e(r,i[0])})}function Rd(n,e,t){e=pe(e,n);var r=-1,i=e.length;for(i||(i=1,n=s);++r<i;){var a=n==null?s:n[Zn(e[r])];a===s&&(r=i,a=t),n=ie(a)?a.call(n):a}return n}function Md(n,e,t){return n==null?n:mt(n,e,t)}function Pd(n,e,t,r){return r=typeof r=="function"?r:s,n==null?n:mt(n,e,t,r)}var ma=Mu(un),ya=Mu(wn);function Od(n,e,t){var r=R(n),i=r||we(n)||Je(n);if(e=L(e,4),t==null){var a=n&&n.constructor;i?t=r?new a:[]:Q(n)?t=ie(a)?Ye(Kt(n)):{}:t={}}return(i?In:Kn)(n,function(o,l,c){return e(t,o,l,c)}),t}function Fd(n,e){return n==null?!0:gi(n,e)}function Ud(n,e,t){return n==null?n:du(n,e,_i(t))}function Bd(n,e,t,r){return r=typeof r=="function"?r:s,n==null?n:du(n,e,_i(t),r)}function Ve(n){return n==null?[]:Zr(n,un(n))}function kd(n){return n==null?[]:Zr(n,wn(n))}function Dd(n,e,t){return t===s&&(t=e,e=s),t!==s&&(t=Fn(t),t=t===t?t:0),e!==s&&(e=Fn(e),e=e===e?e:0),xe(Fn(n),e,t)}function Wd(n,e,t){return e=se(e),t===s?(t=e,e=0):t=se(t),n=Fn(n),zl(n,e,t)}function Nd(n,e,t){if(t&&typeof t!="boolean"&&gn(n,e,t)&&(e=t=s),t===s&&(typeof e=="boolean"?(t=e,e=s):typeof n=="boolean"&&(t=n,n=s)),n===s&&e===s?(n=0,e=1):(n=se(n),e===s?(e=n,n=0):e=se(e)),n>e){var r=n;n=e,e=r}if(t||n%1||e%1){var i=qs();return ln(n+i*(e-n+vf("1e-"+((i+"").length-1))),e)}return li(n,e)}var Gd=Qe(function(n,e,t){return e=e.toLowerCase(),n+(t?Ea(e):e)});function Ea(n){return ki(N(n).toLowerCase())}function ba(n){return n=N(n),n&&n.replace($o,Mf).replace(of,"")}function $d(n,e,t){n=N(n),e=bn(e);var r=n.length;t=t===s?r:xe(M(t),0,r);var i=t;return t-=e.length,t>=0&&n.slice(t,i)==e}function Hd(n){return n=N(n),n&&So.test(n)?n.replace(ji,Pf):n}function qd(n){return n=N(n),n&&To.test(n)?n.replace(Or,"\\$&"):n}var zd=Qe(function(n,e,t){return n+(t?"-":"")+e.toLowerCase()}),Kd=Qe(function(n,e,t){return n+(t?" ":"")+e.toLowerCase()}),Yd=Cu("toLowerCase");function Zd(n,e,t){n=N(n),e=M(e);var r=e?$e(n):0;if(!e||r>=e)return n;var i=(e-r)/2;return fr(Xt(i),t)+n+fr(Qt(i),t)}function Qd(n,e,t){n=N(n),e=M(e);var r=e?$e(n):0;return e&&r<e?n+fr(e-r,t):n}function Xd(n,e,t){n=N(n),e=M(e);var r=e?$e(n):0;return e&&r<e?fr(e-r,t)+n:n}function Jd(n,e,t){return t||e==null?e=0:e&&(e=+e),il(N(n).replace(ts,""),e||0)}function Vd(n,e,t){return(t?gn(n,e,t):e===s)?e=1:e=M(e),ci(N(n),e)}function jd(){var n=arguments,e=N(n[0]);return n.length<3?e:e.replace(n[1],n[2])}var np=Qe(function(n,e,t){return n+(t?"_":"")+e.toLowerCase()});function ep(n,e,t){return t&&typeof t!="number"&&gn(n,e,t)&&(e=t=s),t=t===s?zn:t>>>0,t?(n=N(n),n&&(typeof e=="string"||e!=null&&!Fi(e))&&(e=bn(e),!e&&Ge(n))?_e(kn(n),0,t):n.split(e,t)):[]}var tp=Qe(function(n,e,t){return n+(t?" ":"")+ki(e)});function rp(n,e,t){return n=N(n),t=t==null?0:xe(M(t),0,n.length),e=bn(e),n.slice(t,t+e.length)==e}function ip(n,e,t){var r=u.templateSettings;t&&gn(n,e,t)&&(e=s),n=N(n),e=Er({},e,r,Pu);var i=Er({},e.imports,r.imports,Pu),a=un(i),o=Zr(i,a),l,c,_=0,w=e.interpolate||Ft,v="__p += '",y=Xr((e.escape||Ft).source+"|"+w.source+"|"+(w===ns?Bo:Ft).source+"|"+(e.evaluate||Ft).source+"|$","g"),x="//# sourceURL="+($.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++gf+"]")+`
`;n.replace(y,function(A,F,k,xn,dn,Cn){return k||(k=xn),v+=n.slice(_,Cn).replace(Ho,Of),F&&(l=!0,v+=`' +
__e(`+F+`) +
'`),dn&&(c=!0,v+=`';
`+dn+`;
__p += '`),k&&(v+=`' +
((__t = (`+k+`)) == null ? '' : __t) +
'`),_=Cn+A.length,A}),v+=`';
`;var I=$.call(e,"variable")&&e.variable;I||(v=`with (obj) {
`+v+`
}
`),v=(c?v.replace(mo,""):v).replace(yo,"$1").replace(Eo,"$1;"),v="function("+(I||"obj")+`) {
`+(I?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(l?", __e = _.escape":"")+(c?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+v+`return __p
}`;var P=xa(function(){return W(a,x+"return "+v).apply(s,o)});if(P.source=v,Oi(P))throw P;return P}function sp(n){return N(n).toLowerCase()}function up(n){return N(n).toUpperCase()}function ap(n,e,t){if(n=N(n),n&&(t||e===s))return n.replace(es,"");if(!n||!(e=bn(e)))return n;var r=kn(n),i=kn(e),a=Us(r,i),o=Bs(r,i)+1;return _e(r,a,o).join("")}function op(n,e,t){if(n=N(n),n&&(t||e===s))return n.replace(Ro,"");if(!n||!(e=bn(e)))return n;var r=kn(n),i=Bs(r,kn(e))+1;return _e(r,0,i).join("")}function fp(n,e,t){if(n=N(n),n&&(t||e===s))return n.replace(ts,"");if(!n||!(e=bn(e)))return n;var r=kn(n),i=Us(r,kn(e));return _e(r,i).join("")}function lp(n,e){var t=to,r=ro;if(Q(e)){var i="separator"in e?e.separator:i;t="length"in e?M(e.length):t,r="omission"in e?bn(e.omission):r}n=N(n);var a=n.length;if(Ge(n)){var o=kn(n);a=o.length}if(t>=a)return n;var l=t-$e(r);if(l<1)return r;var c=o?_e(o,0,l).join(""):n.slice(0,l);if(i===s)return c+r;if(o&&(l+=c.length-l),Fi(i)){if(n.slice(l).search(i)){var _,w=c;for(i.global||(i=Xr(i.source,N(rs.exec(i))+"g")),i.lastIndex=0;_=i.exec(w);)var v=_.index;c=c.slice(0,v===s?l:v)}}else if(n.indexOf(bn(i),l)!=l){var y=c.lastIndexOf(i);y>-1&&(c=c.slice(0,y))}return c+r}function cp(n){return n=N(n),n&&bo.test(n)?n.replace(Vi,Nf):n}var hp=Qe(function(n,e,t){return n+(t?" ":"")+e.toUpperCase()}),ki=Cu("toUpperCase");function Sa(n,e,t){return n=N(n),e=t?s:e,e===s?Uf(n)?Hf(n):Lf(n):n.match(e)||[]}var xa=O(function(n,e){try{return yn(n,s,e)}catch(t){return Oi(t)?t:new T(t)}}),gp=te(function(n,e){return In(e,function(t){t=Zn(t),ne(n,t,Mi(n[t],n))}),n});function dp(n){var e=n==null?0:n.length,t=L();return n=e?Y(n,function(r){if(typeof r[1]!="function")throw new Tn(S);return[t(r[0]),r[1]]}):[],O(function(r){for(var i=-1;++i<e;){var a=n[i];if(yn(a[0],this,r))return yn(a[1],this,r)}})}function pp(n){return Nl(Mn(n,Z))}function Di(n){return function(){return n}}function _p(n,e){return n==null||n!==n?e:n}var wp=Au(),vp=Au(!0);function vn(n){return n}function Wi(n){return ru(typeof n=="function"?n:Mn(n,Z))}function mp(n){return su(Mn(n,Z))}function yp(n,e){return uu(n,Mn(e,Z))}var Ep=O(function(n,e){return function(t){return wt(t,n,e)}}),bp=O(function(n,e){return function(t){return wt(n,t,e)}});function Ni(n,e,t){var r=un(e),i=tr(e,r);t==null&&!(Q(e)&&(i.length||!r.length))&&(t=e,e=n,n=this,i=tr(e,un(e)));var a=!(Q(t)&&"chain"in t)||!!t.chain,o=ie(n);return In(i,function(l){var c=e[l];n[l]=c,o&&(n.prototype[l]=function(){var _=this.__chain__;if(a||_){var w=n(this.__wrapped__),v=w.__actions__=pn(this.__actions__);return v.push({func:c,args:arguments,thisArg:n}),w.__chain__=_,w}return c.apply(n,le([this.value()],arguments))})}),n}function Sp(){return an._===this&&(an._=Qf),this}function Gi(){}function xp(n){return n=M(n),O(function(e){return au(e,n)})}var Cp=vi(Y),Lp=vi(Rs),Ap=vi(Hr);function Ca(n){return Ci(n)?qr(Zn(n)):rc(n)}function Ip(n){return function(e){return n==null?s:Ce(n,e)}}var Tp=Tu(),Rp=Tu(!0);function $i(){return[]}function Hi(){return!1}function Mp(){return{}}function Pp(){return""}function Op(){return!0}function Fp(n,e){if(n=M(n),n<1||n>oe)return[];var t=zn,r=ln(n,zn);e=L(e),n-=zn;for(var i=Yr(r,e);++t<n;)e(t);return i}function Up(n){return R(n)?Y(n,Zn):Sn(n)?[n]:pn(zu(N(n)))}function Bp(n){var e=++Yf;return N(n)+e}var kp=or(function(n,e){return n+e},0),Dp=mi("ceil"),Wp=or(function(n,e){return n/e},1),Np=mi("floor");function Gp(n){return n&&n.length?er(n,vn,ii):s}function $p(n,e){return n&&n.length?er(n,L(e,2),ii):s}function Hp(n){return Os(n,vn)}function qp(n,e){return Os(n,L(e,2))}function zp(n){return n&&n.length?er(n,vn,oi):s}function Kp(n,e){return n&&n.length?er(n,L(e,2),oi):s}var Yp=or(function(n,e){return n*e},1),Zp=mi("round"),Qp=or(function(n,e){return n-e},0);function Xp(n){return n&&n.length?Kr(n,vn):0}function Jp(n,e){return n&&n.length?Kr(n,L(e,2)):0}return u.after=mg,u.ary=ta,u.assign=ud,u.assignIn=_a,u.assignInWith=Er,u.assignWith=ad,u.at=od,u.before=ra,u.bind=Mi,u.bindAll=gp,u.bindKey=ia,u.castArray=Mg,u.chain=ju,u.chunk=Nc,u.compact=Gc,u.concat=$c,u.cond=dp,u.conforms=pp,u.constant=Di,u.countBy=Xh,u.create=fd,u.curry=sa,u.curryRight=ua,u.debounce=aa,u.defaults=ld,u.defaultsDeep=cd,u.defer=yg,u.delay=Eg,u.difference=Hc,u.differenceBy=qc,u.differenceWith=zc,u.drop=Kc,u.dropRight=Yc,u.dropRightWhile=Zc,u.dropWhile=Qc,u.fill=Xc,u.filter=Vh,u.flatMap=eg,u.flatMapDeep=tg,u.flatMapDepth=rg,u.flatten=Qu,u.flattenDeep=Jc,u.flattenDepth=Vc,u.flip=bg,u.flow=wp,u.flowRight=vp,u.fromPairs=jc,u.functions=vd,u.functionsIn=md,u.groupBy=ig,u.initial=eh,u.intersection=th,u.intersectionBy=rh,u.intersectionWith=ih,u.invert=Ed,u.invertBy=bd,u.invokeMap=ug,u.iteratee=Wi,u.keyBy=ag,u.keys=un,u.keysIn=wn,u.map=pr,u.mapKeys=xd,u.mapValues=Cd,u.matches=mp,u.matchesProperty=yp,u.memoize=wr,u.merge=Ld,u.mergeWith=wa,u.method=Ep,u.methodOf=bp,u.mixin=Ni,u.negate=vr,u.nthArg=xp,u.omit=Ad,u.omitBy=Id,u.once=Sg,u.orderBy=og,u.over=Cp,u.overArgs=xg,u.overEvery=Lp,u.overSome=Ap,u.partial=Pi,u.partialRight=oa,u.partition=fg,u.pick=Td,u.pickBy=va,u.property=Ca,u.propertyOf=Ip,u.pull=oh,u.pullAll=Ju,u.pullAllBy=fh,u.pullAllWith=lh,u.pullAt=ch,u.range=Tp,u.rangeRight=Rp,u.rearg=Cg,u.reject=hg,u.remove=hh,u.rest=Lg,u.reverse=Ti,u.sampleSize=dg,u.set=Md,u.setWith=Pd,u.shuffle=pg,u.slice=gh,u.sortBy=vg,u.sortedUniq=yh,u.sortedUniqBy=Eh,u.split=ep,u.spread=Ag,u.tail=bh,u.take=Sh,u.takeRight=xh,u.takeRightWhile=Ch,u.takeWhile=Lh,u.tap=Gh,u.throttle=Ig,u.thru=dr,u.toArray=ga,u.toPairs=ma,u.toPairsIn=ya,u.toPath=Up,u.toPlainObject=pa,u.transform=Od,u.unary=Tg,u.union=Ah,u.unionBy=Ih,u.unionWith=Th,u.uniq=Rh,u.uniqBy=Mh,u.uniqWith=Ph,u.unset=Fd,u.unzip=Ri,u.unzipWith=Vu,u.update=Ud,u.updateWith=Bd,u.values=Ve,u.valuesIn=kd,u.without=Oh,u.words=Sa,u.wrap=Rg,u.xor=Fh,u.xorBy=Uh,u.xorWith=Bh,u.zip=kh,u.zipObject=Dh,u.zipObjectDeep=Wh,u.zipWith=Nh,u.entries=ma,u.entriesIn=ya,u.extend=_a,u.extendWith=Er,Ni(u,u),u.add=kp,u.attempt=xa,u.camelCase=Gd,u.capitalize=Ea,u.ceil=Dp,u.clamp=Dd,u.clone=Pg,u.cloneDeep=Fg,u.cloneDeepWith=Ug,u.cloneWith=Og,u.conformsTo=Bg,u.deburr=ba,u.defaultTo=_p,u.divide=Wp,u.endsWith=$d,u.eq=Wn,u.escape=Hd,u.escapeRegExp=qd,u.every=Jh,u.find=jh,u.findIndex=Yu,u.findKey=hd,u.findLast=ng,u.findLastIndex=Zu,u.findLastKey=gd,u.floor=Np,u.forEach=na,u.forEachRight=ea,u.forIn=dd,u.forInRight=pd,u.forOwn=_d,u.forOwnRight=wd,u.get=Ui,u.gt=kg,u.gte=Dg,u.has=yd,u.hasIn=Bi,u.head=Xu,u.identity=vn,u.includes=sg,u.indexOf=nh,u.inRange=Wd,u.invoke=Sd,u.isArguments=Ie,u.isArray=R,u.isArrayBuffer=Wg,u.isArrayLike=_n,u.isArrayLikeObject=nn,u.isBoolean=Ng,u.isBuffer=we,u.isDate=Gg,u.isElement=$g,u.isEmpty=Hg,u.isEqual=qg,u.isEqualWith=zg,u.isError=Oi,u.isFinite=Kg,u.isFunction=ie,u.isInteger=fa,u.isLength=mr,u.isMap=la,u.isMatch=Yg,u.isMatchWith=Zg,u.isNaN=Qg,u.isNative=Xg,u.isNil=Vg,u.isNull=Jg,u.isNumber=ca,u.isObject=Q,u.isObjectLike=j,u.isPlainObject=St,u.isRegExp=Fi,u.isSafeInteger=jg,u.isSet=ha,u.isString=yr,u.isSymbol=Sn,u.isTypedArray=Je,u.isUndefined=nd,u.isWeakMap=ed,u.isWeakSet=td,u.join=sh,u.kebabCase=zd,u.last=On,u.lastIndexOf=uh,u.lowerCase=Kd,u.lowerFirst=Yd,u.lt=rd,u.lte=id,u.max=Gp,u.maxBy=$p,u.mean=Hp,u.meanBy=qp,u.min=zp,u.minBy=Kp,u.stubArray=$i,u.stubFalse=Hi,u.stubObject=Mp,u.stubString=Pp,u.stubTrue=Op,u.multiply=Yp,u.nth=ah,u.noConflict=Sp,u.noop=Gi,u.now=_r,u.pad=Zd,u.padEnd=Qd,u.padStart=Xd,u.parseInt=Jd,u.random=Nd,u.reduce=lg,u.reduceRight=cg,u.repeat=Vd,u.replace=jd,u.result=Rd,u.round=Zp,u.runInContext=h,u.sample=gg,u.size=_g,u.snakeCase=np,u.some=wg,u.sortedIndex=dh,u.sortedIndexBy=ph,u.sortedIndexOf=_h,u.sortedLastIndex=wh,u.sortedLastIndexBy=vh,u.sortedLastIndexOf=mh,u.startCase=tp,u.startsWith=rp,u.subtract=Qp,u.sum=Xp,u.sumBy=Jp,u.template=ip,u.times=Fp,u.toFinite=se,u.toInteger=M,u.toLength=da,u.toLower=sp,u.toNumber=Fn,u.toSafeInteger=sd,u.toString=N,u.toUpper=up,u.trim=ap,u.trimEnd=op,u.trimStart=fp,u.truncate=lp,u.unescape=cp,u.uniqueId=Bp,u.upperCase=hp,u.upperFirst=ki,u.each=na,u.eachRight=ea,u.first=Xu,Ni(u,function(){var n={};return Kn(u,function(e,t){$.call(u.prototype,t)||(n[t]=e)}),n}(),{chain:!1}),u.VERSION=d,In(["bind","bindKey","curry","curryRight","partial","partialRight"],function(n){u[n].placeholder=u}),In(["drop","take"],function(n,e){U.prototype[n]=function(t){t=t===s?1:rn(M(t),0);var r=this.__filtered__&&!e?new U(this):this.clone();return r.__filtered__?r.__takeCount__=ln(t,r.__takeCount__):r.__views__.push({size:ln(t,zn),type:n+(r.__dir__<0?"Right":"")}),r},U.prototype[n+"Right"]=function(t){return this.reverse()[n](t).reverse()}}),In(["filter","map","takeWhile"],function(n,e){var t=e+1,r=t==Qi||t==ao;U.prototype[n]=function(i){var a=this.clone();return a.__iteratees__.push({iteratee:L(i,3),type:t}),a.__filtered__=a.__filtered__||r,a}}),In(["head","last"],function(n,e){var t="take"+(e?"Right":"");U.prototype[n]=function(){return this[t](1).value()[0]}}),In(["initial","tail"],function(n,e){var t="drop"+(e?"":"Right");U.prototype[n]=function(){return this.__filtered__?new U(this):this[t](1)}}),U.prototype.compact=function(){return this.filter(vn)},U.prototype.find=function(n){return this.filter(n).head()},U.prototype.findLast=function(n){return this.reverse().find(n)},U.prototype.invokeMap=O(function(n,e){return typeof n=="function"?new U(this):this.map(function(t){return wt(t,n,e)})}),U.prototype.reject=function(n){return this.filter(vr(L(n)))},U.prototype.slice=function(n,e){n=M(n);var t=this;return t.__filtered__&&(n>0||e<0)?new U(t):(n<0?t=t.takeRight(-n):n&&(t=t.drop(n)),e!==s&&(e=M(e),t=e<0?t.dropRight(-e):t.take(e-n)),t)},U.prototype.takeRightWhile=function(n){return this.reverse().takeWhile(n).reverse()},U.prototype.toArray=function(){return this.take(zn)},Kn(U.prototype,function(n,e){var t=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),i=u[r?"take"+(e=="last"?"Right":""):e],a=r||/^find/.test(e);!i||(u.prototype[e]=function(){var o=this.__wrapped__,l=r?[1]:arguments,c=o instanceof U,_=l[0],w=c||R(o),v=function(F){var k=i.apply(u,le([F],l));return r&&y?k[0]:k};w&&t&&typeof _=="function"&&_.length!=1&&(c=w=!1);var y=this.__chain__,x=!!this.__actions__.length,I=a&&!y,P=c&&!x;if(!a&&w){o=P?o:new U(this);var A=n.apply(o,l);return A.__actions__.push({func:dr,args:[v],thisArg:s}),new Rn(A,y)}return I&&P?n.apply(this,l):(A=this.thru(v),I?r?A.value()[0]:A.value():A)})}),In(["pop","push","shift","sort","splice","unshift"],function(n){var e=Nt[n],t=/^(?:push|sort|unshift)$/.test(n)?"tap":"thru",r=/^(?:pop|shift)$/.test(n);u.prototype[n]=function(){var i=arguments;if(r&&!this.__chain__){var a=this.value();return e.apply(R(a)?a:[],i)}return this[t](function(o){return e.apply(R(o)?o:[],i)})}}),Kn(U.prototype,function(n,e){var t=u[e];if(t){var r=t.name+"";$.call(Ke,r)||(Ke[r]=[]),Ke[r].push({name:e,func:t})}}),Ke[ar(s,Hn).name]=[{name:"wrapper",func:s}],U.prototype.clone=cl,U.prototype.reverse=hl,U.prototype.value=gl,u.prototype.at=$h,u.prototype.chain=Hh,u.prototype.commit=qh,u.prototype.next=zh,u.prototype.plant=Yh,u.prototype.reverse=Zh,u.prototype.toJSON=u.prototype.valueOf=u.prototype.value=Qh,u.prototype.first=u.prototype.head,lt&&(u.prototype[lt]=Kh),u},He=qf();ye?((ye.exports=He)._=He,Wr._=He):an._=He}).call(J)})(Te,Te.exports);const Re=Te.exports;var qi=(m=>(m.BG="BG",m.CA="CA",m.CO="CO",m.CW="CW",m.DE="DE",m.DK="DK",m.ES="ES",m.GR="GR",m.IM="IM",m.IT="IT",m.MT="MT",m.NL="NL",m.NOT_APPLICABLE="NOT_APPLICABLE",m.PT="PT",m.SE="SE",m.SK="SK",m.UK="UK",m.UNKNOWN="UNKNOWN",m.US="US",m))(qi||{});const zi={CA_BC:"CA",CA_ON:"CA",GER:"DE",HR:"ES",US_CT:"US",US_MI:"US",US_NJ:"US",USA:"US"},Ia=m=>{var d;const f=m&&m in qi,s=m&&m in zi;return!m||!(f||s)?"UNKNOWN":(d=zi[m])!=null?d:m};function Ta(m,f){function s(d,{maxCount:E}){const C=V=>{var D;return(D=V==null?void 0:V.filter(Z=>Z<=E))!=null?D:[]},S=V=>{var D;return(D=V==null?void 0:V.map(Z=>Number(Z)))!=null?D:[]},G=[...d,E];return Re.flow([S,C,Re.sortBy,Re.sortedUniq])(G)}switch(f){case"BG":return{autoplay:{lossLimit:{enabled:!0,showNoLimit:!1},winLimit:{enabled:!0}},feature:{showFastPlay:!1,allowQuickStop:!1},minimumSpinDuration:3};case"CA":return{autoplay:{enabled:!1},feature:{showFastPlay:!1,allowQuickStop:!1,showFeatureBuy:!1},minimumSpinDuration:2.5};case"CO":return{autoplay:{rounds:{showNoLimit:!1,showCustomLimit:!1,options:s(m.autoplay.rounds.options,{maxCount:100})}},feature:{showFastPlay:!1,allowQuickStop:!1},minimumSpinDuration:3};case"DE":return{autoplay:{enabled:!1},feature:{showFastPlay:!1,allowQuickStop:!1,showFeatureBuy:!1},minimumSpinDuration:5};case"ES":return{autoplay:{rounds:{showNoLimit:!1,showCustomLimit:!1,options:s(m.autoplay.rounds.options,{maxCount:100})}},feature:{showFastPlay:!1,allowQuickStop:!1},minimumSpinDuration:3};case"GR":return{feature:{showFastPlay:!1,allowQuickStop:!1,showFeatureBuy:!1},minimumSpinDuration:3};case"IT":return{feature:{showPaylineLines:!0}};case"NL":return{autoplay:{enabled:!1}};case"PT":return{autoplay:{rounds:{showNoLimit:!1,showCustomLimit:!1,options:s(m.autoplay.rounds.options,{maxCount:100})}},feature:{showFastPlay:!1,allowQuickStop:!1},minimumSpinDuration:3};case"SE":return{autoplay:{rounds:{showNoLimit:!1,showCustomLimit:!1,options:s(m.autoplay.rounds.options,{maxCount:100})}},feature:{showFastPlay:!1,allowQuickStop:!1},minimumSpinDuration:3};case"UK":return{autoplay:{enabled:!1},feature:{showFastPlay:!1,allowQuickStop:!1,showFeatureBuy:!1},minimumSpinDuration:2.5};case"US":return{feature:{showPaylineLines:!0}}}return{}}class Ra extends q{async getConfig(){var G;let f=this.config.ui;const s=await this.fetchOperatorConfig();f=Re.merge({},f,s);const d=new URLSearchParams(window.location.search),E=JSON.parse((G=d.get("badgeParameters"))!=null?G:"{}");f=Re.merge({},f,E);const C=Ia(this.config.api.jurisdiction),S=Ta(f,C);return f=Re.merge({},f,S),f}get mappedIntegration(){const f=this.config.api.integration.toLowerCase(),s=this.config.api.brand.toLowerCase();if(f==="spinomenal"){if(s.startsWith("gg-"))return"groovegaming"}else if(f==="pariplay"){if(s.startsWith("8x1"))return"pariplay-8x1"}else{if(/openbox-.*/.test(f))return"openbox";if(/oryx-.*/.test(f))return"oryx";if(/relax-.*/.test(f))return"relax"}return f}get mappedBrand(){const f=this.config.api.integration.toLowerCase(),s=this.config.api.brand.toLowerCase();return f==="bspot"&&this.config.api.playMode.toLowerCase()==="fun"?"demo":s}mapUiConfig(f){var s;return f?{autoplay:{enabled:f.badge.autoplayType!==5,rounds:{enabled:f.badge.autoplayType!==5,showNoLimit:!1,showCustomLimit:!1,options:(s=f.badge.autoplayRounds)!=null?s:[5,10,25,75,100]},lossLimit:{enabled:f.badge.autoplayType===1||f.badge.autoplayType===4,showNoLimit:f.badge.autoplayType===1,showCustomLimit:!0,options:[5,25,50]},winLimit:{enabled:f.badge.autoplayType===1||f.badge.autoplayType===4,showNoLimit:!0,showCustomLimit:!0,options:[10,20,75]},simple:f.badge.autoplayType===3},cashier:{enabled:f.badge.showQuickDeposit,balanceThreshold:f.badge.quickDepositBalanceThresholds},feature:{allowTelemetry:!0,allowFullscreen:f.defaults.fullscreen==="true",allowQuickStop:f.badge.minimumSpinDuration===0,showCashier:f.badge.showQuickDeposit,showClock:f.badge.showClock,showCloseGame:f.badge.showCloseGameButton,showCurrency:f.badge.showCurrency,showFastPlay:f.badge.showTurboButton,showFeatureBuy:f.badge.showHyperBonus,showFunModeBanner:f.badge.showFunBanner,showHistory:f.badge.showGameHistory,showPaylineLines:f.badge.showPaylineLines,showRoundId:f.badge.showRoundId,showRules:f.badge.showGameRules,showSessionDuration:f.badge.realityCheckShowSessionDuration,showUi:f.badge.showGameUi},minimumSpinDuration:f.badge.minimumSpinDuration,realityCheck:{sessionDurationPeriodFormat:f.badge.realityCheckPeriodFormat,showCloseGame:f.badge.realityCheckShowCloseGame,showHistory:f.badge.realityCheckShowHistoryLink,showNetPosition:f.badge.realityCheckShowNetGamingActivity,showSessionDuration:f.badge.realityCheckShowSessionDuration,showSumBets:f.badge.realityCheckShowSumBets,showSumWins:f.badge.realityCheckShowSumWins},skipInsufficientFundsCheck:f.badge.skipInsufficientFundsCheck,skipSplash:f.badge.loaderAutoContinue}:{}}async fetchOperatorConfig(){const f="https://awscdn.kalamba.net/build/",s=this.mappedIntegration,d=this.mappedBrand;let E={};try{E=await fetch(`${f}config/${s}/cage/${d}.json`).then(C=>C.json())}catch{try{E=await fetch(`${f}config/${s}/operator.json`).then(S=>S.json())}catch{E=await fetch(`${f}config/fun/operator.json`).then(G=>G.json())}}return this.mapUiConfig(E)}}class ve{constructor(f){X(this,"config");this.config=f}on(f,s,d){const E=function(S){S.data.message!==`kalamba:wrapper-casino:${f}`&&S.data.message!==`kalamba:wrapper:${f}`||s(S.data.payload)};window.addEventListener("message",E,d)}send(f,...[s]){window.postMessage({message:`kalamba:casino:${f}`,payload:s})}}function Qn(m,f){return(s,...d)=>{console.log(`[%c${m}\x1B[m] %s`,f,s,...d)}}const fn=Qn("\u25BC DebuggingPlugin IN \u25BC","color:#444444;font-weight:bold;"),Ma=Qn("\u25B2 DebuggingPlugin OUT \u25B2","color:#444444;font-weight:bold;");class Pa extends ve{constructor(...f){super(...f),this.registerDebugToSdkEvents(),this.registerSdkToDebugEvents()}registerDebugToSdkEvents(){window.DebuggingPlugin={balance:f=>this._send("balance",f),bet:f=>this._send("bet",f),choice:f=>this._send("choice",f),close:f=>this._send("close",f),help:f=>this._send("help",f),history:f=>this._send("history",f),freeze:f=>this._send("freeze",f),paytable:f=>this._send("paytable",f),settings:f=>this._send("settings",f),suspend:f=>this._send("suspend",f),unfreeze:f=>this._send("unfreeze",f)}}registerSdkToDebugEvents(){this.on("autoplay",f=>fn("autoplay",f)),this.on("balance",f=>fn("balance",f)),this.on("bet",f=>fn("bet",f)),this.on("cashier",f=>fn("cashier",f)),this.on("choice",f=>fn("choice",f)),this.on("close",f=>fn("close",f)),this.on("error",f=>fn("error",f)),this.on("loadEnd",f=>fn("loadEnd",f)),this.on("loadProgress",f=>fn("loadProgress",f)),this.on("loadStart",f=>fn("loadStart",f)),this.on("playCycleEnd",f=>fn("playCycleEnd",f)),this.on("playEnd",f=>fn("playEnd",f)),this.on("playError",f=>fn("playError",f)),this.on("playReady",f=>fn("playReady",f)),this.on("playStart",f=>fn("playStart",f)),this.on("settings",f=>fn("settings",f))}_send(...f){Ma(...f),this.send(...f)}}const je=Qn("RelaxFEIMPlugin","color:#000000;font-weight:bold;");class Oa extends ve{constructor(...s){super(...s);X(this,"VERSION","1.15.0");const d=document.createElement("script");d.src=`https://d3nsdzdtjbr5ml.cloudfront.net/casino/relaxlibs/feim/${this.VERSION}/rlxfeim.min.js`,d.onload=()=>{je("loaded"),window.FEIM.configure({p2pConfig:{currency:this.config.api.currency,launchParams:{homeurl:"homeUrl"}}}),je("configured"),this.registerToSdkEvents(),this.registerFromSdkEvents()},document.body.appendChild(d)}registerToSdkEvents(){window.FEIM.on.errorMessageDismissed(()=>this.send("unfreeze")),window.FEIM.on.errorMessageDisplayed(()=>this.send("freeze")),window.FEIM.on.exitingGame(()=>je("!!! NOT IMPLEMENTED: exitingGame !!!")),window.FEIM.on.freeze(()=>this.send("freeze")),window.FEIM.on.initialized(()=>je("!!! NOT IMPLEMENTED: initialized !!!")),window.FEIM.on.pauseAutoPlay(()=>this.send("suspend")),window.FEIM.on.refreshBalance(()=>je("!!! NOT IMPLEMENTED: refreshBalance !!!")),window.FEIM.on.toggleGameHelp(()=>{this.send("help",{})}),window.FEIM.on.togglePaytable(()=>{this.send("paytable",{})}),window.FEIM.on.unfreeze(()=>this.send("unfreeze")),window.FEIM.on.updateSettings(({payload:[s]})=>this.send("settings",{sounds:s.sounds,fastPlay:s.fastPlay}))}registerFromSdkEvents(){this.on("autoplay",({action:s})=>{switch(s){case"start":window.FEIM.send.autoPlayStarted();break;case"stop":window.FEIM.send.autoPlayFinished();break}}),this.on("balance",({balance:s})=>{window.FEIM.send.balanceUpdate(s)}),this.on("bet",({base:s,multiplier:d})=>{window.FEIM.send.betUpdate(s*d)}),this.on("error",({message:s})=>{window.FEIM.send.errorMessage(s)}),this.on("close",()=>{window.FEIM.send.exitGame()}),this.on("loadEnd",()=>{window.FEIM.send.gameLoadCompleted()}),this.on("loadProgress",({progress:s})=>{window.FEIM.send.gameLoadProgress(s)}),this.on("loadStart",()=>{window.FEIM.send.gameLoadStarted()}),this.on("cashier",()=>{window.FEIM.send.openQuickDeposit()}),this.on("playCycleEnd",s=>{const d={balance:s.balance,bet:s.data.gameState.totalBetFromCurrentGameCycle,win:{win:s.data.gameState.totalWinFromCurrentGameCycle}};window.FEIM.send.roundFinished(d)}),this.on("playResponse",s=>{const d={balance:s.balance,playResponse:s.data};window.FEIM.send.roundStarted(d)}),this.on("history",()=>{window.FEIM.send.showHistory()}),this.on("settings",s=>{window.FEIM.send.updateSettings(s)})}}const Fa=Qn("BasicPlugin","color:#000000;font-weight:bold;");class Ua extends ve{constructor(...f){super(...f),this.registerToSdkEvents(),this.registerFromSdkEvents(),Fa("configured")}registerToSdkEvents(){window.addEventListener("message",f=>{try{const{type:s,payload:d}=f.data;switch(s){case"doAudioSettings":this.send("settings",{music:d==null?void 0:d.musicEnabled,sounds:d==null?void 0:d.soundEnabled});return;case"doBalanceUpdate":this.send("balance",{balance:d.balanceInCoins});return;case"doGamePause":this.send("freeze");return;case"doGameResume":this.send("unfreeze");return;case"doGameSuspend":this.send("suspend");return;default:return}}catch{}})}registerFromSdkEvents(){this.on("close",()=>{if(this.config.api.homeUrl)try{window.top.location=this.config.api.homeUrl}catch{window.location=this.config.api.homeUrl}else try{window.top.history.back()}catch{window.history.back()}})}}const Ba=Qn("GigPlugin","color:#000000;font-weight:bold;");class ka extends ve{constructor(...f){super(...f),this.registerToSdkEvents(),this.registerFromSdkEvents(),Ba("configured")}postMessage(f){const s={event:f};window.parent.postMessage(s,"*")}registerToSdkEvents(){window.addEventListener("message",f=>{try{const{data:s}=f;switch(s){case"STOP_AUTO_PLAY":this.send("suspend");return;case"BLOCK_BETS":this.send("freeze");return;case"UNBLOCK_BETS":this.send("unfreeze");return;default:return}}catch{}})}registerFromSdkEvents(){this.on("close",()=>{if(this.config.api.homeUrl)try{window.top.location=this.config.api.homeUrl}catch{window.location=this.config.api.homeUrl}else try{window.top.history.back()}catch{window.history.back()}}),this.on("playReady",()=>{this.postMessage("GAME_READY")})}}const Da=Qn("OryxPlugin","color:#000000;font-weight:bold;");class Wa extends ve{constructor(...f){super(...f),this.registerToSdkEvents(),this.registerFromSdkEvents(),Da("configured")}registerToSdkEvents(){window.addEventListener("message",f=>{try{const{type:s,param:d}=f.data;switch(s){case"doBalanceUpdate":this.send("balance",{balance:d});return;case"doGamePause":this.send("freeze");return;case"doGameResume":this.send("unfreeze");return;case"doGameSuspend":this.send("suspend");return;default:return}}catch{}})}registerFromSdkEvents(){let f=0;this.on("close",()=>{window.top.postMessage({wpgaction:"close"},"*"),window.parent.postMessage({wpgaction:"close.parent"},"*")}),this.on("balance",({balance:s})=>{f!==s&&(f=s,window.top.postMessage({param:{},wpgaction:"balance"},"*"),window.parent.postMessage({param:{},wpgaction:"balance.parent"},"*"))}),this.on("loadStart",()=>{window.top.postMessage({wpgaction:"loadStart"},"*"),window.parent.postMessage({wpgaction:"loadStart.parent"},"*")}),this.on("loadEnd",()=>{window.top.postMessage({wpgaction:"loadEnd"},"*"),window.parent.postMessage({wpgaction:"loadEnd.parent"},"*")}),this.on("playStart",()=>{window.top.postMessage({wpgaction:"gameSpinStart"},"*"),window.parent.postMessage({wpgaction:"gameSpinStart.parent"},"*")}),this.on("playEnd",()=>{window.top.postMessage({wpgaction:"gameSpinEnd"},"*"),window.parent.postMessage({wpgaction:"gameSpinEnd.parent"},"*")}),this.on("cashier",({type:s})=>{switch(s){case"BALANCE_LOW":window.top.postMessage({wpgaction:"cashier"},"*"),window.parent.postMessage({wpgaction:"cashier.parent"},"*");break;case"BALANCE_INSUFFICIENT":window.top.postMessage({wpgaction:"errorOutOfMoney"},"*"),window.parent.postMessage({wpgaction:"errorOutOfMoney.parent"},"*");break}})}}const br=Qn("TukoPlugin","color:#000000;font-weight:bold;");class Na extends ve{constructor(...s){super(...s);X(this,"PING_INTERVAL",1e4);const E=new URLSearchParams(window.location.search).get("pingCallbackUrl");E&&window.setInterval(()=>{this.ping(E)},this.PING_INTERVAL),this.registerToSdkEvents(),this.registerFromSdkEvents(),br("configured")}ping(s){const d=new XMLHttpRequest;d.onreadystatechange=function(){d.readyState===XMLHttpRequest.DONE&&(d.status===0||d.status>=200&&d.status<400?br("ping ok",d):br("ping error",d))},d.open("GET",s),d.send()}registerToSdkEvents(){window.addEventListener("message",s=>{try{const{type:d,payload:E}=s.data;switch(d){case"doAudioSettings":this.send("settings",{music:E==null?void 0:E.musicEnabled,sounds:E==null?void 0:E.soundEnabled});return;case"doBalanceUpdate":this.send("balance",{balance:E.balanceInCoins});return;case"doGamePause":this.send("freeze");return;case"doGameResume":this.send("unfreeze");return;case"doGameSuspend":this.send("suspend");return;default:return}}catch{}})}registerFromSdkEvents(){this.on("close",()=>{if(this.config.api.homeUrl)try{window.top.location=this.config.api.homeUrl}catch{window.location=this.config.api.homeUrl}else try{window.top.history.back()}catch{window.history.back()}})}}const Ga={bul:"bg",chi:"zh",zho:"zh",hrv:"hr",cze:"cs",dan:"da",dut:"nl",eng:"en",est:"et",fin:"fi",fra:"fr",ger:"de",gre:"el",hun:"hu",ind:"id",ita:"it",jpn:"ja",kor:"ko",nor:"no",pol:"pl",por:"pt",rum:"ro",rus:"ru",srp:"sr",slo:"sk",spa:"es",swe:"sv",tha:"th",tur:"tr",ukr:"uk",vie:"vi"};class $a{constructor(f){X(this,"socket",null);X(this,"webSocketUrl");X(this,"eventListeners",{close:[],error:[],message:[]});X(this,"connect",()=>{const f=new WebSocket(this.webSocketUrl);return f.addEventListener("message",this.handleMessage),new Promise(s=>{f.addEventListener("open",d=>{this.handleOpen(d),s(this.socket)})})});X(this,"send",f=>{if(this.socket==null)throw new Error("Cannot send message, the WebSocket connection is not open");this.socket.send(f)});X(this,"close",()=>{if(this.socket==null)throw new Error("Cannot close the WebSocket connection that is not open");this.socket.close(),this.addEventListener("error",f=>{console.log(f)})});X(this,"handleClose",f=>{this.eventListeners.close.forEach(s=>{s(f)})});X(this,"handleError",f=>{this.eventListeners.error.forEach(s=>{s(f)})});X(this,"handleMessage",f=>{this.eventListeners.message.forEach(s=>{s(f)})});X(this,"handleOpen",f=>{const s=f.target;s.addEventListener("close",this.handleClose),s.addEventListener("error",this.handleError),this.socket=s});this.webSocketUrl=f}addEventListener(f,s){this.eventListeners[f].push(s)}removeEventListener(f,s){const d=this.eventListeners[f].indexOf(s);d!==-1&&this.eventListeners[f].splice(d,1)}}const Ha=1e4;function Lt(m){try{return JSON.parse(m==null?void 0:m.data)}catch(f){return console.error("fakap",f),null}}function Me(m){var f;return((f=m==null?void 0:m.header)==null?void 0:f.name)==="GameEvent"}function qa(m){return Me(m)&&m.body.event==="OPEN_GAME"}function za(m){return Me(m)&&m.body.event==="SPIN_ERROR"}function Ka(m){return Me(m)&&m.body.event==="SPIN_RESULT"}function Ya(m){return Me(m)&&m.body.event==="BG_RESULT"}function Za(m){var f;return((f=m==null?void 0:m.header)==null?void 0:f.name)==="OpenGame"}function Qa(m){var f;return((f=m==null?void 0:m.header)==null?void 0:f.name)==="Ping"}function Ki(m){var f;return((f=m==null?void 0:m.header)==null?void 0:f.name)==="RealityCheck"}class Xa extends $a{constructor(s,d){var C;const E=new URL(s.apiUrl);E.searchParams.set("cageCode",s.cageCode),E.searchParams.set("gameCode",s.gameCode),E.searchParams.set("operatorCode",s.operatorCode),E.searchParams.set("playMode",s.playMode),E.searchParams.set("token",s.token),E.searchParams.set("username",s.username);super(E.toString());X(this,"cId",0);X(this,"mId",0);X(this,"seqId",10);X(this,"gameCode");X(this,"requestTimeoutMs");X(this,"onMessage",s=>{const d=Lt(s);(Me(d)||Qa(d)||Ki(d))&&this.sendAcknowledgement(d),Ki(d)&&this.handleRealityCheck(d)});this.eventListeners.realityCheck=[],this.gameCode=s.gameCode,this.requestTimeoutMs=(C=d.requestTimeoutMs)!=null?C:Ha,this.addEventListener("message",this.onMessage)}handleRealityCheck(s){this.eventListeners.realityCheck.forEach(d=>{d(s.body)})}addEventListener(s,d){super.addEventListener(s,d)}removeEventListener(s,d){super.removeEventListener(s,d)}buildHeader(s,d=null){return{cId:d!=null?d:++this.cId,code:d!==null?1:void 0,mId:++this.mId,name:s}}buildPayload(s,d){const E={body:d,header:s};return JSON.stringify(E)}getBodyExtras(s){return{action:s,seqId:++this.seqId}}request(s,d){const E=this.buildPayload(s,d);return new Promise((C,S)=>{setTimeout(()=>S({request:{body:d,header:s},type:"timeout"}),this.requestTimeoutMs);const G=V=>{const D=Lt(V);try{s.cId===(D==null?void 0:D.header.cId)&&(this.removeEventListener("message",G),D.header.code===1?C(D):S({response:D,type:"response"}))}catch{S({response:D,type:"error"})}};this.addEventListener("message",G),this.send(E)})}activateFreeRound(s){const d=this.buildHeader("ActivateFreeRound");return this.request(d,s)}authenticate(s=!1){const d=this.buildHeader("Authenticate"),E={clientType:3,version:"1.3.3.7",reconnect:s};return this.request(d,E).then(C=>C.body)}openGame(){const s=this.buildHeader("OpenGame"),d={gameCode:this.gameCode};return new Promise((E,C)=>{const S=G=>{const V=Lt(G);qa(V)&&(this.removeEventListener("message",S),E(V.body))};this.addEventListener("message",S),this.request(s,d).catch(G=>{Za(G.response)&&C(G),C(G)})})}sendAcknowledgement(s){const{name:d,cId:E}=s.header,C=this.buildHeader(d,E),S=this.buildPayload(C,{});this.send(S)}sendAction(s,d){const E=this.buildHeader("GameAction"),C={...this.getBodyExtras(s),data:d};return new Promise((S,G)=>{const V=D=>{const Z=Lt(D);Me(Z)&&C.seqId===Z.body.correlationSeqId&&(this.removeEventListener("message",V),Ka(Z)||Ya(Z)?S(Z.body):za(Z)&&G(Z.body))};this.addEventListener("message",V),this.request(E,C).catch(D=>{G(D)})})}spin(s){return this.sendAction("SPIN",s)}bgAction(s){return this.sendAction("BG_ACTION",s)}}class Ja{constructor(f){X(this,"config");this.config=f}on(f,s,d){const E=function(S){S.data.message!==`kalamba:wrapper-rgs:${f}`&&S.data.message!==`kalamba:wrapper:${f}`||s(S.data.payload)};window.addEventListener("message",E,d)}send(f,...[s]){window.postMessage({message:`kalamba:rgs:${f}`,payload:s})}}const Va=Qn("KalambaBullseyePlugin","color:#000000;font-weight:bold;");class ja extends Ja{constructor(...s){super(...s);X(this,"socket");this.on("openGame",async()=>{try{const d=await this.openGame();this.send("openGameResponse",d)}catch(d){this.send("openGameError",d)}}),this.on("play",async d=>{try{const E=await this.play(d);this.send("playResponse",E)}catch(E){this.send("playError",E)}}),this.registerFromSdkEvents()}initialize(s){this.socket=new Xa(s,{requestTimeoutMs:1e4}),this.socket.addEventListener("close",d=>{d.code===1006&&this.reconnect(s)}),document.addEventListener("visibilitychange",()=>{document.visibilityState==="visible"&&this.socket.socket&&this.socket.socket.readyState!==WebSocket.OPEN&&this.reconnect(s)}),this.socket.addEventListener("error",d=>Va("error",d)),this.socket.addEventListener("realityCheck",d=>{this.send("realityCheck",d)})}async reconnect(s){this.initialize(s),await this.socket.connect(),await this.socket.authenticate(!0),await this.socket.openGame()}async openGame(){var Hn,nt,mn;const s=new URLSearchParams(window.location.search),d=s.get("apiUrl"),E=s.get("cageCode"),C=s.get("gameCode"),S=s.get("operatorCode"),G=s.get("playMode"),V=s.get("token"),D=s.get("username"),Z=s.get("gameHistoryUrl"),It=(Hn=s.get("homeUrl"))!=null?Hn:void 0,ae=(nt=s.get("cashierUrl"))!=null?nt:void 0;this.initialize({apiUrl:d,cageCode:E,gameCode:C,operatorCode:S,playMode:G,token:V,username:D}),await this.socket.connect();const Ln=await this.socket.authenticate(),Fe=await this.socket.openGame();this.config.api={brand:E,game:C,integration:S,jurisdiction:Ln.jurisdictionCode,playMode:G,user:Ln.username,integrationData:{token:V},country:Ln.countryCode,currency:Ln.currencyCode,coinValueInCents:Ln.coinValueInCents,gameHistoryUrl:Z,homeUrl:It,cashierUrl:ae};const sn=s.get("languageCode");return sn&&(this.config.ui.language=sn.length===3&&(mn=Ga[sn])!=null?mn:sn),Fe}play(s){if("userInput"in s&&s.userInput!=null)return this.socket.bgAction(s);if("opaqueGameAttributes"in s&&s.opaqueGameAttributes)return this.socket.spin(s);if("bet"in s&&s.bet){const{bet:d,...E}=s;return this.socket.spin({bet:{baseBet:d.base,betMultiplier:d.multiplier},...E})}}registerFromSdkEvents(){this.on("history",()=>{const{api:{game:s,integration:d,integrationData:E,jurisdiction:C,user:S,gameHistoryUrl:G}}=this.config,V=S.replace(/^user_/,"").replace(new RegExp(`_${d}$`),""),D=new URL(G);D.searchParams.set("gameCode",s),D.searchParams.set("jurisdiction",C),D.searchParams.set("operatorCode",d),D.searchParams.set("token",E.token),D.searchParams.set("username",V),window.open(D.toString(),"_blank")})}}const no=!1,Yi=()=>{},Zi=no?Qn("\u25B2 Wrapper OUT \u25B2","color:#86AC0C;font-weight:bold;"):()=>{};class eo{constructor({messagePort:f,plugins:s,configManager:d,setState:E}){xt(this,Pe,void 0);xt(this,At,void 0);xt(this,$n,void 0);xt(this,Oe,void 0);Ct(this,Pe,f),Ct(this,Oe,new d),Ct(this,$n,E),Ct(this,At,{rgs:new s.rgs(this.config),casino:s.casino.map(C=>new C(this.config))}),window.addEventListener("message",this.onMessage.bind(this)),this.on("balance",({balance:C})=>{Gn(this,$n).call(this,S=>({...S,balance:C}))}),this.on("sdk:bet",({base:C,multiplier:S})=>{Gn(this,$n).call(this,G=>({...G,bet:{base:C,multiplier:S}}))}),this.on("sdk:playCycleStart",()=>{Gn(this,$n).call(this,C=>({...C,balance:C.balance-C.bet.base*C.bet.multiplier}))}),this.on("sdk:openGame",({gameName:C})=>{Gn(this,$n).call(this,S=>({...S,gameName:C}))}),this.on("rgs:openGameResponse",async C=>{this.config.ui=await Gn(this,Oe).getConfig(),this.send("configured",this.config),Gn(this,$n).call(this,S=>({...S,balance:C.balance,currency:this.config.api.currency,coinValueInCents:this.config.api.coinValueInCents}))}),this.forwardMessages()}forwardMessages(){this.forwardToPlugins("casino",["sdk:autoplay","sdk:balance","sdk:bet","sdk:cashier","sdk:choice","sdk:close","sdk:error","sdk:history","sdk:loadEnd","sdk:loadProgress","sdk:loadStart","sdk:openGame","sdk:play","sdk:playCycleEnd","sdk:playCycleStart","sdk:playEnd","sdk:playStart","sdk:settings"]),this.forwardToPlugins("casino",["rgs:playResponse"]),this.forwardToPlugins("rgs",["sdk:openGame","sdk:play","sdk:history"]),this.forwardToPlugins("rgs",["casino:play","casino:cashier","casino:close","casino:history"]),this.forwardToSdk(["casino:balance","casino:bet","casino:choice","casino:freeze","casino:help","casino:paytable","casino:settings","casino:suspend","casino:unfreeze"]),this.forwardToSdk(["rgs:openGameError","rgs:openGameResponse","rgs:playError","rgs:playResponse","rgs:realityCheck"])}get config(){return Gn(this,Oe).config}onMessage(f){var d,E,C;!((C={message:(d=f.data)==null?void 0:d.message,payload:(E=f.data)==null?void 0:E.payload}.message)!=null&&C.startsWith("kalamba:"))||Gn(this,$n).call(this,S=>S)}forwardToPlugins(f,s){s.forEach(d=>{const E=C=>{C.data.message===`kalamba:${d}`&&(Yi("wrapper:forwardToPlugins",f,C.data.message.replace(/^kalamba:/,""),C.data.payload),window.postMessage({message:`kalamba:wrapper-${f}:${d.replace(/^(.+):/,"")}`,payload:C.data.payload}))};window.addEventListener("message",E)})}forwardToSdk(f){f.forEach(s=>{const d=E=>{E.data.message===`kalamba:${s}`&&(Zi("wrapper:forwardToSdk",E.data.message.replace(/^kalamba:/,""),E.data.payload),Gn(this,Pe).postMessage({message:`kalamba:wrapper:${s.replace(/^(.+):/,"")}`,payload:E.data.payload}))};window.addEventListener("message",d)})}on(f,s,d){const E=function C(S){!new RegExp(`^kalamba:${f.includes(":")?"":"(.+):"}${f}$`).test(S.data.message)||new RegExp(`^kalamba:wrapper-(.+):${f}`).test(S.data.message)||new RegExp(`^kalamba:(.+)-wrapper:${f}`).test(S.data.message)||(Yi("on",S.data.message.replace(/^kalamba:/,""),S.data.payload),s(S.data.payload),d!=null&&d.once&&window.removeEventListener("message",C))};window.addEventListener("message",E)}send(f,...[s]){Zi("wrapper:send",f,s),window.postMessage({message:`kalamba:wrapper:${f}`,payload:s}),Gn(this,Pe).postMessage({message:`kalamba:wrapper:${f}`,payload:s})}}Pe=new WeakMap,At=new WeakMap,$n=new WeakMap,Oe=new WeakMap,B.BasicPlugin=Ua,B.CasinoPlugin=ve,B.DebuggingPlugin=Pa,B.GigPlugin=ka,B.KalambaBullseyePlugin=ja,B.KalambaSdkConfigManager=Ra,B.KalambaSdkWrapper=eo,B.OryxPlugin=Wa,B.RelaxFEIMPlugin=Oa,B.TukoPlugin=Na,Object.defineProperties(B,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
